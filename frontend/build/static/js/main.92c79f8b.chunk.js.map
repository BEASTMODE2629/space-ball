{"version":3,"sources":["util/route_util.js","components/main/navbar/navbar.js","util/session_api_util.js","actions/stats_actions.js","actions/inventory_actions.js","actions/session_actions.js","components/main/navbar/navbar_container.js","components/main/main_page.js","components/session/login_form.js","components/session/login_form_container.js","components/session/signup_form.js","components/session/signup_form_container.js","classes/game/client_hud.js","classes/game/entities/ball.js","classes/game/entities/booster.js","classes/game/entities/ship.js","classes/game/entities/goals.js","classes/game/client_arena.js","classes/game/entities/bounding_box.js","classes/game/client_camera.js","classes/game/client_game.js","classes/game/client_viewport.js","components/game/gameview.js","components/game/gameview_container.js","components/main/lobby/room.js","components/main/lobby/play.jsx","components/main/lobby/play_container.js","components/main/page_not_found.js","components/main/leaderboard/board/board.js","components/main/leaderboard/board/board_container.js","actions/leaderboard_actions.js","components/main/leaderboard/stats/stats.js","components/main/leaderboard/stats/stats_container.js","components/main/leaderboard/leaderboard.js","components/main/options/ship/ship.js","components/main/options/ship/ship_container.js","components/main/options/ball/ball.js","components/main/options/ball/ball_container.js","components/main/options/options.js","components/main/options/options_container.js","components/app.js","components/root.js","reducers/session_reducer.js","reducers/session_errors_reducer.js","reducers/errors_reducer.js","reducers/stats_reducer.js","reducers/leaderboard_reducer.js","reducers/inventory_reducer.js","reducers/root_reducer.js","store/store.js","index.js","classes/game/Input.js"],"names":["mapStateToProps","state","loggedIn","session","isAuthenticated","AuthRoute","withRouter","connect","Component","component","path","exact","render","props","rest","to","NavBar","logoutUser","bind","handleClick","e","Array","from","document","getElementsByClassName","forEach","el","classList","remove","target","add","arr","console","log","preventDefault","this","logout","className","user","username","onClick","id","viewBox","d","loginLinks","React","setAuthToken","token","axios","defaults","headers","common","fetchStats","dispatch","get","then","res","type","payload","data","catch","err","fetchInventory","selectShip","ship","patch","gameoptions","selectBall","ball","receiveCurrentUser","currentUser","receiveErrors","errors","signup","userData","post","localStorage","setItem","APIUtil","decoded","jwt_decode","window","location","replace","response","login","removeItem","reload","MainPage","src","width","alt","LoginForm","password","handleSubmit","renderErrors","handleDemo","clearErrors","field","setState","currentTarget","value","demoUsernameTime","length","totalDemoTime","intervalSpeed","demoUsername","update","setTimeout","demoPassword","i","setInterval","slice","clearInterval","j","Object","assign","demo","keys","map","error","key","onSubmit","onChange","placeholder","SignupForm","email","password2","history","createStat","createInventory","signedIn","isSignedIn","ClientHud","socket","hud","getElementById","ctx","getContext","score","LEFT","RIGHT","on","clearScore","updateScore","drawScore","gameover","clearRect","drawGoal","flashGoal","fillStyle","font","textAlign","fillText","clearGoal","winner","addEventListener","keyCode","href","Ball","ballSprite","Image","ballX","ballY","xView","yView","x","y","drawImage","Booster","color","boosters","shift","cycle","degrees","translate","rotate","animate","Ship","selectedShip","shipSprite","pos","shipAngle","boosterPosX","boosterPosY","jetDirection","self","draw","Math","PI","setTransform","Goals","leftGoal","rightGoal","ClientArena","background","foreground","midlayer","BoundingBox","left","top","height","right","bottom","r","AXIS","ClientCamera","viewWidth","viewHeight","worldWidth","worldHeight","xDeadZone","yDeadZone","wView","hView","axis","followed","viewPortRect","worldRect","gameObject","set","within","ClientGame","room","canvas","arenaCtx","arena","goalPosts","camera","follow","others","othersPrev","clearEntities","stepEntities","drawEntities","clear","clearOthers","step","stepOthers","drawOthers","player","ClientViewPort","game","emit","Input","applyEventHandlers","cycleAll","gameLoop","cooldown","UP","DOWN","keyboardState","up","down","GameView","clientViewPort","init","disconnect","inventory","Room","numPlayers","style","fill","pathname","Play","io","server","serverRow","PageNotFound","Board","fetchLeaderboard","leaderboard","counter","points","wins","losses","values","Stats","getLinks","stats","ratio","winpercent","toFixed","Leaderboard","selected","currentViewPort","optionSelection","handleSelectChild","toggleSelect","Promise","resolve","reject","handleSelect","ships","includes","currency","display","balls","Options","leftViewPort","rightViewPort","buyShip","buyBall","sellShip","sellBall","buy","addShip","changeCurrency","alert","addBall","removeShip","removeBall","showLogin","purchaseOption","amount","App","LoginContainer","SignupContainer","GameViewContainer","PlayContainer","OptionsContainer","Root","store","initialState","_nullErrors","SessionErrorsReducer","action","freeze","combineReducers","statsReducer","leaderboardReducer","inventoryReducer","RootReducer","sessionErrors","configureStore","preloadedState","createStore","rootReducer","applyMiddleware","thunk","logger","jwtToken","decodedUser","currentTime","Date","now","exp","root","ReactDOM","Error","ENTER","MISC_KEYS","onKeyDown","event","onKeyUp","module","exports"],"mappings":"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","file":"static/js/main.92c79f8b.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\n\n// Passed in from parent component or from mapStateToProps\nconst Auth = ({ component: Component, path, loggedIn, exact }) => (\n  <Route\n    path={path}\n    exact={exact}\n    render={props =>\n      !loggedIn ? (\n        <Component {...props} />\n      ) : (\n        // Rerender with updated logged in state\n        <Component {...props} />\n      )\n    }\n  />\n);\n\nconst Protected = ({ component: Component, loggedIn, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      loggedIn ? (\n        <Component {...props} />\n      ) : (\n        // Redirect to the login page if the user is already authenticated\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\n// Use the isAuthenitcated slice of state to determine whether a user is logged in\n\nconst mapStateToProps = state => ({ loggedIn: state.session.isAuthenticated });\n\nexport const AuthRoute = withRouter(connect(mapStateToProps)(Auth));\n\nexport const ProtectedRoute = withRouter(connect(mapStateToProps)(Protected));\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.state = {\n    //   active: 'home'\n    // }\n    this.logoutUser = this.logoutUser.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    // this.setState({\n    //   active: e.target.id\n    // });\n    Array.from(document.getElementsByClassName(\"nav-select\")).forEach(el =>\n      el.classList.remove(\"active\")\n    );\n\n    e.target.classList.add(\"active\");\n\n    const arr = Array.from(document.getElementsByClassName(\"nav-select\"))\n    console.log(arr)\n  }\n\n  logoutUser(e) {\n    e.preventDefault();\n    this.props.logout();\n  }\n\n  loginLinks() {\n    if (this.props.loggedIn) {\n      return (\n        <div className=\"loggedin\">\n          <div className=\"greeting\">Hello {this.props.user.username} !</div>\n          <button className=\"logout-button\" onClick={this.logoutUser}>Log Out</button>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"loggedout\">\n          <Link to=\"/login\"><button className=\"login-button\" id=\"login\">Log In</button></Link>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"navbar\">\n        <div className=\"nav\">\n          <Link to=\"/\" >\n            <svg className=\"nav-select home-button active\" id=\"home\" \n              viewBox=\"0 0 24 24\" onClick={this.handleClick}>\n              <path d=\"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" />\n            </svg>\n          </Link>\n          <Link to=\"/play\" >\n            <div className=\"nav-select\" id=\"play\" onClick={this.handleClick}>PLAY</div>\n          </Link>\n          <Link to=\"/options\" >\n            <div className=\"nav-select\" id=\"options\" onClick={this.handleClick}>OPTIONS</div>\n          </Link>\n          <Link to=\"/leaderboard\" >\n            <div className=\"nav-select\" id=\"leaderboard\" onClick={this.handleClick}>LEADERBOARD</div>\n          </Link>\n        </div>\n        {this.loginLinks()}\n      </div>\n    );\n  }\n}\n\nexport default NavBar;\n","import axios from \"axios\";\n\nexport const setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport const signup = userData => {\n  return axios.post(\"/api/users/signup\", userData);\n};\n\nexport const login = userData => {\n  return axios.post(\"/api/users/login\", userData);\n};\n","import axios from \"axios\";\n\nexport const RECEIVE_STATS = 'RECEIVE_STATS';\nexport const RECEIVE_LEADERBOARD = 'RECEIVE_LEADERBOARD';\nexport const CLEAR_STATS = 'CLEAR_STATS';\nexport const RECEIVE_ERRORS = 'RECEIVE_ERRORS';\nexport const CREATE_STAT = 'CREATE_STAT'\n\nexport const fetchStats = () => dispatch => {\n  axios\n    .get(\"/api/stats\")\n    .then(res =>\n      dispatch({\n        type: RECEIVE_STATS,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_STATS,\n        payload: null\n      })\n    );\n};\n\nexport const createStat = user => dispatch => {\n  return axios.post(\"/api/stats\", user)\n    .then(res =>\n      dispatch({\n        type: CREATE_STAT,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const clearStats = () => ({ type: CLEAR_STATS });","import axios from \"axios\";\n\nexport const RECEIVE_INVENTORY = 'RECEIVE_INVENTORY';\nexport const RECEIVE_ERRORS = 'RECEIVE_ERRORS';\nexport const CREATE_INVENTORY = 'CREATE_INVENTORY';\nexport const ADD_SHIP = 'ADD_SHIP';\nexport const ADD_BALL = 'ADD_BALL';\nexport const REMOVE_SHIP = 'REMOVE_SHIP';\nexport const REMOVE_BALL = 'REMOVE_BALL';\nexport const CHANGE_CURRENCY = 'CHANGE_CURRENCY';\nexport const SELECT_SHIP = 'SELECT_SHIP';\nexport const SELECT_BALL = 'SELECT_BALL'\n\nexport const fetchInventory = () => dispatch => {\n  axios.get(\"/api/inventory\")\n    .then(res =>\n      dispatch({\n        type: RECEIVE_INVENTORY,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_INVENTORY,\n        payload: null\n      })\n    );\n};\n\nexport const createInventory = user => dispatch => {\n  axios.post(\"/api/inventory\", user)\n    .then(res =>\n      dispatch({\n        type: CREATE_INVENTORY,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const addShip = ship => dispatch => {\n  axios\n    .patch(\"/api/inventory/addship\", { ship: ship })\n    .then(res =>\n      dispatch({\n        type: ADD_SHIP,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const removeShip = ship => dispatch => {\n  axios\n    .patch(\"api/inventory/removeship\", { ship: ship })\n    .then(res => \n      dispatch({\n        type: REMOVE_SHIP,\n        payload: res.data\n      })\n    )\n    .catch(err => \n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const addBall = ball => dispatch => {\n  axios\n    .patch(\"/api/inventory/addball\", { ball: ball })\n    .then(res =>\n      dispatch({\n        type: ADD_BALL,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const removeBall = ball => dispatch => {\n  axios\n    .patch(\"api/inventory/removeball\", { ball: ball })\n    .then(res =>\n      dispatch({\n        type: REMOVE_BALL,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const selectShip = ship => dispatch => {\n  axios\n    .patch(\"/api/inventory/selectship\", { gameoptions: ship })\n    .then(res => \n      dispatch({\n        type: SELECT_SHIP,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const selectBall = ball => dispatch => {\n  axios\n    .patch(\"/api/inventory/selectball\", { gameoptions: ball })\n    .then(res => \n      dispatch({\n        type: SELECT_BALL,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n};\n\nexport const changeCurrency = amount => dispatch => {\n  axios\n    .patch(\"/api/inventory/currency\", { currency: amount })\n    .then(res =>\n      dispatch({\n        type: CHANGE_CURRENCY,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_ERRORS,\n        payload: err\n      })\n    );\n}\n","import * as APIUtil from \"../util/session_api_util\";\nimport jwt_decode from \"jwt-decode\";\nimport { fetchStats } from \"./stats_actions\";\nimport { fetchInventory } from \"./inventory_actions\";\n\nexport const RECEIVE_CURRENT_USER = \"RECEIVE_CURRENT_USER\";\nexport const RECEIVE_SESSION_ERRORS = \"RECEIVE_SESSION_ERRORS\";\nexport const RECEIVE_USER_LOGOUT = \"RECEIVE_USER_LOGOUT\";\nexport const RECEIVE_USER_SIGN_IN = \"RECEIVE_USER_SIGN_IN\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\n\n// We'll dispatch this when our user signs in\nexport const receiveCurrentUser = currentUser => ({\n  type: RECEIVE_CURRENT_USER,\n  currentUser\n});\n\n// This will be used to redirect the user to the login page upon signup\nexport const receiveUserSignIn = () => ({\n  type: RECEIVE_USER_SIGN_IN\n});\n\n// We dispatch this one to show authentication errors on the frontend\nexport const receiveErrors = errors => ({\n  type: RECEIVE_SESSION_ERRORS,\n  errors\n});\n\n// When our user is logged out, we will dispatch this action to set isAuthenticated to false\nexport const logoutUser = () => ({\n  type: RECEIVE_USER_LOGOUT\n});\n\n// Upon signup, dispatch the approporiate action depending on which type of response we receieve from the backend\nexport const signup = user => dispatch =>\n  APIUtil.signup(user)\n    .then(res => {\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      APIUtil.setAuthToken(token);\n      const decoded = jwt_decode(token);\n      dispatch(receiveCurrentUser(decoded));\n    })\n    .then(() => window.location.replace('/'))\n    .catch(err => {\n      dispatch(receiveErrors(err.response.data));\n    });\n\n// Upon login, set the session token and dispatch the current user. Dispatch errors on failure.\nexport const login = user => dispatch =>\n  APIUtil.login(user)\n    .then(res => {\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      APIUtil.setAuthToken(token);\n      const decoded = jwt_decode(token);\n      dispatch(receiveCurrentUser(decoded));\n    })\n    .then(() => dispatch(fetchStats()))\n    .then(() => dispatch(fetchInventory()))\n    .then(() => window.location.replace('/'))\n    .catch(err => {\n      dispatch(receiveErrors(err.response.data));\n    });\n\nexport const logout = () => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  APIUtil.setAuthToken(false);\n  dispatch(logoutUser());\n  dispatch(fetchInventory());\n  window.location.reload(false);\n};\n\nexport const clearErrors = () => ({\n  type: CLEAR_ERRORS\n});\n","import { connect } from \"react-redux\";\nimport NavBar from \"./navbar\";\nimport { logout } from \"../../../actions/session_actions\";\n\nconst mapStateToProps = state => ({\n  loggedIn: state.session.isAuthenticated,\n  user: state.session.user\n});\n\nconst mapDispatchToProps = dispatch => ({\n  logout: () => dispatch(logout())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);\n","import React from 'react';\nimport NavBarContainer from './navbar/navbar_container';\n\nconst MainPage = () => {\n  return (\n    <div className=\"mainpage-container\">\n      <div className=\"stars\"></div>\n      <div className=\"twinkling\"></div>\n      <div className=\"clouds\"></div>\n      <NavBarContainer />\n      <div className=\"lobby-content\">\n        <img className=\"logo\" src=\"images/space_ball.png\" width=\"600\" alt=\"logo\" />\n        {/* <svg viewBox=\"0 0 880.01 536.23\"><defs><radialGradient id=\"a\" cx=\"380.57\" cy=\"-3141.04\" r=\"433.35\" gradientTransform=\"matrix(.78 -.04 .53 -.55 1797.47 -1428.78)\" gradientUnits=\"userSpaceOnUse\"><stop offset=\".72\" stop-color=\"#f6eb16\" /><stop offset=\".77\" stop-color=\"#ec008c\" /><stop offset=\".78\" stop-color=\"#cf1f8e\" /><stop offset=\".79\" stop-color=\"#b33092\" /><stop offset=\".8\" stop-color=\"#993995\" /><stop offset=\".81\" stop-color=\"#823e98\" /><stop offset=\".82\" stop-color=\"#6e4199\" /><stop offset=\".84\" stop-color=\"#5c449b\" /><stop offset=\".86\" stop-color=\"#4c459c\" /><stop offset=\".88\" stop-color=\"#40469d\" /><stop offset=\".91\" stop-color=\"#38479d\" /><stop offset=\"1\" stop-color=\"#36479d\" /></radialGradient><radialGradient id=\"b\" cx=\"328.83\" cy=\"-3143.83\" r=\"433.38\" gradientTransform=\"matrix(.7 -.04 .47 -.48 1696.61 -1227.87)\" /><radialGradient id=\"c\" cx=\"432.53\" cy=\"-3139.46\" r=\"433.36\" gradientTransform=\"matrix(.88 -.05 .59 -.64 1914.31 -1705.68)\" /><radialGradient id=\"d\" cx=\"497.27\" cy=\"-3085.07\" r=\"433.36\" gradientTransform=\"matrix(1 -.05 .67 -.74 2010.38 -1996.78)\"/></defs><g data-name=\"Layer 2\"><g data-name=\"Layer 1\"><path d=\"M628.33 75.14C464 83.56 264.8 172.41 154.67 286.41S83.89 477 248.22 468.6s363.54-97.27 473.66-211.27 70.78-190.62-93.55-182.19zM277.15 438.65c-146.72 7.52-185.45-57.16-92.09-153.8S452.68 112.6 599.4 105.08s185.45 57.17 92.09 153.81-267.62 172.24-414.34 179.76z\" fill=\"url(#a)\" /><path d=\"M607.74 98.65c-147.54 7.56-326.47 85.88-425.45 186.22S118.57 452.54 266.11 445s326.46-85.9 425.44-186.23 63.73-167.68-83.81-160.12zm-315.63 320c-131.73 6.75-166.44-50.09-82.53-135.15S450 131.77 581.73 125s166.45 50.09 82.54 135.16-240.43 151.71-372.16 158.46z\" fill=\"url(#b)\" /><path d=\"M651.72 41.09c-184.46 9.45-407.88 112.56-531.25 245.17s-79 222 105.42 212.54 407.87-112.56 531.24-245.17S836.17 31.64 651.72 41.09zM258.3 464C93.61 472.4 50 396.94 154.58 284.52S454.61 84.37 619.3 75.93 827.61 143 723 255.38 423 455.52 258.3 464z\" fill=\"url(#c)\" /><path d=\"M681.3.76c-209.37 10.73-462.82 131-602.63 285.88s-89.32 259.57 120.05 248.83 462.81-131 602.62-285.87S890.67-10 681.3.76zm-445.85 494C48.51 504.35-1.14 416 117.39 284.65S457.63 51 644.56 41.46s236.59 78.79 118.07 210.12-340.24 233.61-527.18 243.19z\" fill=\"url(#d)\" /></g></g></svg> */}\n      </div>\n    </div>\n  )\n}\n\nexport default MainPage;","import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport NavBarContainer from \"../main/navbar/navbar_container\";\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.renderErrors = this.renderErrors.bind(this);\n    this.handleDemo = this.handleDemo.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.clearErrors();\n  }\n\n  update(field) {\n    return e =>\n      this.setState({\n        [field]: e.currentTarget.value\n      });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    this.props.login(user);\n\n  }\n\n  // signupOrLogin() {\n  //   Array.from(\n  //     document.getElementsByClassName(\"form-container-signup\")\n  //   ).forEach(el => el.classList.remove(\"hidden\"));\n  //   Array.from(\n  //     document.getElementsByClassName(\"form-container-login\")\n  //   ).forEach(el => el.classList.add(\"hidden\"));\n  //   this.props.clearErrors();\n  // }\n\n  demo(user) {\n    const intervalSpeed = 70;\n    const { username, password } = user;\n    const demoUsernameTime = username.length * intervalSpeed;\n    const demoPasswordTime = password.length * intervalSpeed;\n    const buffer = intervalSpeed * 2;\n    const totalDemoTime = demoUsernameTime + demoPasswordTime + buffer;\n    this.demoUsername(username, intervalSpeed);\n    this.update(\"username\")\n    setTimeout(() => this.demoPassword(password, intervalSpeed), demoUsernameTime);\n    this.update(\"password\")\n    setTimeout(() => this.props.login(user), totalDemoTime + 200)\n  }\n\n  demoUsername(username, intervalSpeed) {\n    let i = 0;\n    setInterval(() => {\n      if (i <= username.length) {\n        this.setState({ username: username.slice(0, i) });\n        i++;\n      } else {\n        clearInterval();\n      }\n    }, intervalSpeed);\n  }\n\n  demoPassword(password, intervalSpeed) {\n    let j = 0;\n    setInterval(() => {\n      if (j <= password.length) {\n        this.setState({ password: password.slice(0, j) });\n        j++;\n      } else {\n        clearInterval();\n      }\n    }, intervalSpeed);\n  }\n\n  handleDemo(e) {\n    e.preventDefault();\n    const user = Object.assign({}, { username: 'DemoUser', password: 'demodemo' });\n    this.demo(user);\n  }\n\n\n  // Render the session errors if there are any\n  renderErrors() {\n    return (\n      <ul className=\"errors\">\n        {Object.keys(this.props.errors).map((error, i) => (\n          <li key={`error-${i}`}>{this.props.errors[error]}</li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"mainpage-container\">\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n        <div className=\"clouds\"></div>\n        <NavBarContainer />\n        <div className=\"form-container-login\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"login-form\">\n              <input\n                className=\"input-field\"\n                type=\"text\"\n                value={this.state.username}\n                onChange={this.update(\"username\")}\n                placeholder=\"Username\"\n              />\n              <br />\n              <input\n                className=\"input-field\"\n                type=\"password\"\n                value={this.state.password}\n                onChange={this.update(\"password\")}\n                placeholder=\"Password\"\n              />\n              <br />\n              <input className=\"submit-button\" type=\"submit\" value=\"LOG IN\" />\n              <br />\n              <button className=\"demo-login-button\" onClick={this.handleDemo} type=\"button\">DEMO LOG IN</button>\n              {this.renderErrors()}\n            </div>\n          </form>\n          <Link to=\"signup\">\n            <div className=\"alt-text\">\n              <div>Create an account?</div>\n              <div className=\"link\">Sign Up</div>\n            </div>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(LoginForm);\n","import { connect } from \"react-redux\";\nimport { login, clearErrors } from \"../../actions/session_actions\";\nimport LoginForm from \"./login_form\";\n\nconst mapStateToProps = state => {\n  return {\n    errors: state.errors.session,\n    loggedIn: state.session.isAuthenticated\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: user => dispatch(login(user)),\n    clearErrors: () => dispatch(clearErrors()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n","import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport NavBarContainer from \"../main/navbar/navbar_container\";\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      password2: \"\"\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.clearErrors();\n  }\n\n  update(field) {\n    return e =>\n      this.setState({\n        [field]: e.currentTarget.value\n      });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n      password2: this.state.password2\n    };\n\n    this.props.signup(user, this.props.history);\n    this.props.createStat(user);\n    this.props.createInventory(user);\n  }\n\n  // signupOrLogin() {\n  //   Array.from(\n  //     document.getElementsByClassName(\"form-container-login\")\n  //   ).forEach(el => el.classList.remove(\"hidden\"));\n  //   Array.from(\n  //     document.getElementsByClassName(\"form-container-signup\")\n  //   ).forEach(el => el.classList.add(\"hidden\"));\n  //   this.props.clearErrors();\n  // }\n\n  renderErrors() {\n    return (\n      <ul className=\"errors\">\n        {Object.keys(this.props.errors).map((error, i) => (\n          <li key={`error-${i}`}>{this.props.errors[error]}</li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"mainpage-container\">\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n        <div className=\"clouds\"></div>\n        <NavBarContainer />\n        <div className=\"form-container-signup\">\n          <div className=\"title\">Sign Up for a New Account</div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"signup-form\">\n              <input\n                className=\"input-field\"\n                type=\"text\"\n                value={this.state.email}\n                onChange={this.update(\"email\")}\n                placeholder=\"Email\"\n              />\n              <br />\n              <input\n                className=\"input-field\"\n                type=\"text\"\n                value={this.state.username}\n                onChange={this.update(\"username\")}\n                placeholder=\"Username\"\n              />\n              <br />\n              <input\n                className=\"input-field\"\n                type=\"password\"\n                value={this.state.password}\n                onChange={this.update(\"password\")}\n                placeholder=\"Password\"\n              />\n              <br />\n              <input\n                className=\"input-field\"\n                type=\"password\"\n                value={this.state.password2}\n                onChange={this.update(\"password2\")}\n                placeholder=\"Confirm Password\"\n              />\n              <br />\n              <input className=\"submit-button\" type=\"submit\" value=\"SIGN UP\" />\n              {this.renderErrors()}\n            </div>\n          </form>\n          <Link to=\"/login\">\n            <div className=\"alt-text\">\n              <div>Already have an account?</div>\n              <div className=\"link\">Login</div>\n            </div>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);\n","import { connect } from \"react-redux\";\nimport { signup, clearErrors } from \"../../actions/session_actions\";\nimport { createStat } from \"../../actions/stats_actions\";\nimport { createInventory } from \"../../actions/inventory_actions\";\nimport SignupForm from \"./signup_form\";\n\nconst mapStateToProps = state => {\n  return {\n    signedIn: state.session.isSignedIn,\n    errors: state.errors.session\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: user => dispatch(signup(user)),\n    createStat: user => dispatch(createStat(user)),\n    createInventory: user => dispatch(createInventory(user)),\n    clearErrors: () => dispatch(clearErrors())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupForm);\n","class ClientHud {\n  constructor(socket) {\n    this.hud = document.getElementById('hud-canvas');\n    this.ctx = this.hud.getContext(\"2d\");\n\n    this.socket = socket;\n    this.score = { LEFT: 0, RIGHT: 0 };\n\n\n    this.socket.on('updateScore', data => {\n      this.clearScore(this.ctx)\n      this.updateScore(data)\n      this.drawScore(this.ctx)\n    })\n\n    this.socket.on('gameover', data => {\n      this.gameover(this.ctx, data)\n    })\n\n    this.drawScore(this.ctx)\n  }\n\n  clearScore(ctx) {\n    ctx.clearRect(600, 0, 600, 100);\n  }\n\n  updateScore(score) {\n    this.drawGoal(this.ctx)\n    let flashGoal = setInterval(() => this.drawGoal(this.ctx), 200)\n    setTimeout(() => clearInterval(flashGoal), 1000)\n    this.score = score\n  }\n\n  drawScore(ctx) {\n    ctx.fillStyle = \"#FFFFFF\"\n    ctx.font = \"40pt Audiowide\";\n    ctx.textAlign = \"center\";\n    ctx.fillText(this.score.LEFT + \"   |   \" + this.score.RIGHT, 800, 90);\n  }\n\n  clearGoal(ctx) {\n    ctx.clearRect(600, 600, 400, 300);\n  }\n\n  drawGoal(ctx) {\n    ctx.fillStyle = \"#FFFFFF\"\n    ctx.font = \"80px Faster One\";\n    ctx.textAlign = \"center\";\n    ctx.fillText(\"GOAL!!\", 800, 800);\n    setTimeout(() => this.clearGoal(ctx), 100)\n  }\n\n  gameover(ctx, data) {\n    this.winner = data;\n    ctx.clearRect(0, 0, 1600, 900);\n    this.drawScore(ctx)\n    ctx.fillStyle = \"#FFFFFF\"\n    ctx.font = \"80px Faster One\";\n    ctx.textAlign = \"center\";\n    ctx.fillText(\"GAME OVER\", 800, 400);\n\n    ctx.fillStyle = \"#FFFFFF\"\n    ctx.font = \"40pt Audiowide\";\n    ctx.textAlign = \"center\";\n    ctx.fillText(this.winner + \" wins!\", 800, 500);\n\n    ctx.font = \"20pt Audiowide\";\n    ctx.fillText(\"press enter to return to lobby\", 800, 600);\n\n    document.addEventListener('keydown', e => {\n      if (e.keyCode === 13 && this.winner) window.location.href = \"/\"\n    })\n  }\n}\n\nexport default ClientHud;","class Ball {\n  constructor() {\n    this.ballSprite = new Image();\n    this.ballSprite.src = 'images/earth_ball2.png'\n\n    this.ballX = 0\n    this.ballY = 0\n  }\n\n  clear(ctx, xView, yView) {\n    ctx.clearRect(this.ballX - xView, this.ballY - yView, 220, 220);\n  }\n\n\n  step(data) {\n    this.ballX = data.ball.x - 100\n    this.ballY = data.ball.y - 100\n  }\n\n  draw(ctx, xView, yView) {\n    ctx.drawImage(\n      this.ballSprite,\n      this.ballX - xView,\n      this.ballY - yView,\n    )\n  }\n}\n\nexport default Ball;","class Booster {\n  constructor(color) {\n    this.boosters = new Image();\n    // if(color === \"red\"){\n    //   this.boosters.src = \"images/boosters-red.png\";\n    // } else if (color === \"blue\"){\n    //   this.boosters.src = \"images/boosters-blue.png\";\n    // }\n    color === \"self\"\n      ? (this.boosters.src = \"images/boosters-red.png\")\n      : (this.boosters.src = \"images/boosters-blue.png\");\n    this.shift = 0;\n    this.cycle = 0;\n  }\n\n  draw(ctx, degrees, x, y) {\n\n    ctx.translate(x + 90 / 2, y + 600 / 2);\n    ctx.rotate(degrees);\n    ctx.drawImage(this.boosters, 0, this.shift, 90, 120, -90 / 2, -600 / 2, 90/1.7, 120/2.0);\n    ctx.rotate(-degrees);\n    ctx.translate(-x - 90 / 2, -y - 600 / 2);\n\n    if (this.cycle % 2 === 0 && this.cycle < 600) {\n      this.animate();\n    }\n    if (this.cycle >= 600){\n      this.cycle = 0;\n    }\n  }\n\n  animate() {\n    this.shift += 120;\n    if (this.shift >= 600 - 120) {\n      this.shift = 0;\n    }\n  }\n}\n\nexport default Booster;\n","import Booster from \"./booster\";\n\nclass Ship {\n  constructor(ctx, user, selectedShip) {\n    \n    this.shipSprite = new Image();\n    switch (selectedShip) {\n      case (\"Default\"):\n        this.shipSprite.src = \"images/default_ship.png\";\n        break;\n      case (\"Red\"):\n        this.shipSprite.src = \"images/red_ship.png\";\n        break;\n      case (\"Green\"):\n        this.shipSprite.src = \"images/green_ship.png\";\n        break;\n      case (\"Blue\"):\n        this.shipSprite.src = \"images/blue_ship.png\";\n        break;\n      default:\n        this.shipSprite.src = \"images/default_ship.png\";\n    }\n\n    this.ctx = ctx\n    this.user = user === \"Guest\" ? user : user.username\n\n    // this.width = 60;\n    // this.height = 60;\n\n    this.pos = { x: 0, y: 0 }\n\n    this.boosters = new Booster(\"self\");\n    this.shipAngle = 0;\n    this.boosterPosX = 0;\n    this.boosterPosY = 0;\n    this.jetDirection = { x: 0, y: 0 }\n  }\n\n  clear(ctx, xView, yView) {\n    ctx.clearRect(this.pos.x - 30 - xView - 60, this.pos.y - 30 - yView - 60, 60 + 120, 60 + 120);\n  }\n\n  step(data) {\n    this.pos = data.self.pos\n    this.jetDirection = data.self.jetDirection\n  }\n\n  draw(ctx, xView, yView) {\n    if (this.jetDirection.x === 0 && this.jetDirection.y === 0) {\n      this.boosterPosX = false;\n      this.boosterPosY = false;\n    }\n    else if (this.jetDirection.x > 0 && this.jetDirection.y > 0) {\n      this.shipAngle = 45;\n      this.boosterPosX = 95;\n      this.boosterPosY = -467;\n    } else if (this.jetDirection.x > 0 && this.jetDirection.y < 0) {\n      this.shipAngle = 135;\n      this.boosterPosX = 121;\n      this.boosterPosY = -163;\n    } else if (this.jetDirection.y < 0 && this.jetDirection.x < 0) {\n      this.shipAngle = 225;\n      this.boosterPosX = -182;\n      this.boosterPosY = -134;\n    } else if (this.jetDirection.y > 0 && this.jetDirection.x < 0) {\n      this.shipAngle = 315;\n      this.boosterPosX = -212;\n      this.boosterPosY = -437;\n    } else if (this.jetDirection.y > 0) {\n      this.shipAngle = 0;\n      this.boosterPosX = -65;\n      this.boosterPosY = -515;\n    } else if (this.jetDirection.x > 0) {\n      this.shipAngle = 90;\n      this.boosterPosX = 169;\n      this.boosterPosY = -320;\n    } else if (this.jetDirection.y < 0) {\n      this.shipAngle = 180;\n      this.boosterPosX = -25;\n      this.boosterPosY = -83;\n    } else if (this.jetDirection.x < 0) {\n      this.shipAngle = 270;\n      this.boosterPosX = -260;\n      this.boosterPosY = -280;\n    }\n\n    if (this.boosterPosX || this.boosterPosY) {\n      this.boosters.draw(\n        this.ctx,\n        ((this.shipAngle + 180) * Math.PI) / 180,\n        (this.pos.x - xView) + this.boosterPosX,\n        (this.pos.y - yView) + this.boosterPosY\n      );\n    }\n\n    ctx.setTransform(1, 0, 0, 1, this.pos.x - xView, this.pos.y - yView);\n    ctx.rotate((this.shipAngle * Math.PI) / 180);\n    ctx.drawImage(this.shipSprite, -60 / 2, -60 / 2);\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n    ctx.fillStyle = \"#FFFFFF\"\n    ctx.font = \"16pt Audiowide\";\n    ctx.fillText(this.user, this.pos.x - xView, this.pos.y + 60 - yView);\n    ctx.textAlign = \"center\";\n  }\n}\n\nexport default Ship;","class Goals {\n  constructor() {\n    this.leftGoal = new Image();\n    this.leftGoal.src = 'images/leftGoal.png'\n    this.rightGoal = new Image();\n    this.rightGoal.src = 'images/rightGoal.png'\n  }\n\n  clear(ctx, xView, yView) {\n    ctx.clearRect(0 - xView, 510 - yView, 315, 781);\n    ctx.clearRect(3485 - xView, 510 - yView, 315, 781);\n  }\n\n  draw(ctx, xView, yView) {\n    ctx.drawImage(\n      this.leftGoal,\n      0 - xView,\n      510 - yView,\n    )\n    ctx.drawImage(\n      this.rightGoal,\n      3485 - xView,\n      510 - yView,\n    )\n  }\n}\n\nexport default Goals;","class ClientArena {\n  constructor() {\n    this.background = document.getElementById('background-canvas');\n    this.ctx = this.background.getContext(\"2d\");\n\n    this.foreground = new Image();\n    this.foreground.src = 'images/grid.png'\n\n    this.midlayer = new Image();\n    this.midlayer.src = 'images/grid2.png'\n\n    this.background = new Image();\n    this.background.src = 'images/grid3.png'\n  }\n\n  draw(ctx, xView, yView) {\n    ctx.drawImage(\n      this.background,\n      xView / 3, // x axis anchor point\n      yView / 3, // y axis anchor point\n      1600,\n      900,\n      0,\n      0,\n      1600,\n      900\n    )\n\n    \n    ctx.drawImage(\n      this.midlayer,\n      xView / 2, // x axis anchor point\n      yView / 2, // y axis anchor point\n      1600,\n      900,\n      0,\n      0,\n      1600,\n      900\n      )\n      \n    ctx.drawImage(\n      this.foreground,\n      xView, // x axis anchor point\n      yView, // y axis anchor point\n      1600,\n      900,\n      0,\n      0,\n      1600,\n      900\n    )\n  }\n}\n\nexport default ClientArena;","class BoundingBox {\n  constructor(left, top, width, height) {\n    this.left = left || 0;\n    this.top = top || 0;\n    this.width = width || 0;\n    this.height = height || 0;\n    this.right = this.left + this.width;\n    this.bottom = this.top + this.height;\n  }\n\n  set(left, top, width, height) {\n    this.left = left || 0;\n    this.top = top || 0;\n    this.width = width || 0;\n    this.height = height || 0;\n    this.right = this.left + this.width;\n    this.bottom = this.top + this.height;\n  }\n\n  within(r) {\n    return (r.left <= this.left &&\n      r.right >= this.right &&\n      r.top <= this.top &&\n      r.bottom >= this.bottom);\n  }\n\n  overlaps(r) {\n    return (this.left < r.right &&\n      r.left < this.right &&\n      this.top < r.bottom &&\n      r.top < this.bottom);\n  }\n}\n\nexport default BoundingBox;","import BoundingBox from './entities/bounding_box'\nvar AXIS = {\n  NONE: 1,\n  HORIZONTAL: 2,\n  VERTICAL: 3,\n  BOTH: 4\n};\n\nclass ClientCamera {\n  constructor(xView, yView, viewWidth, viewHeight, worldWidth, worldHeight) {\n    this.xView = xView || 0;\n    this.yView = yView || 0;\n\n    this.xDeadZone = 0;\n    this.yDeadZone = 0;\n\n    this.wView = viewWidth;\n    this.hView = viewHeight;\n\n    this.axis = AXIS.BOTH;\n\n    this.followed = null;\n\n    this.viewPortRect = new BoundingBox(\n      this.xView, this.yView, this.wView, this.hView\n      );\n\n    this.worldRect = new BoundingBox(0, 0, worldWidth, worldHeight);\n  }\n\n  follow(gameObject, xDeadZone, yDeadZone) {\n    this.followed = gameObject;\n    this.xDeadZone = xDeadZone;\n    this.yDeadZone = yDeadZone;\n  }\n\n  update() {\n    if (this.followed !== null) {\n      if (this.axis === AXIS.HORIZONTAL || this.axis === AXIS.BOTH) {\n        if (this.followed.pos.x - this.xView + this.xDeadZone > this.wView) {\n          this.xView = this.followed.pos.x - (this.wView - this.xDeadZone)\n        } else if (this.followed.pos.x - this.xDeadZone < this.xView) {\n          this.xView = this.followed.pos.x - this.xDeadZone;\n        }\n      }\n    }\n    if (this.axis === AXIS.VERTICAL || this.axis === AXIS.BOTH) {\n      if (this.followed.pos.y - this.yView + this.yDeadZone > this.hView) {\n        this.yView = this.followed.pos.y - (this.hView - this.yDeadZone)\n      } else if (this.followed.pos.y - this.yDeadZone < this.yView) {\n        this.yView = this.followed.pos.y - this.yDeadZone;\n      }\n    }\n\n    this.viewPortRect.set(this.xView, this.yView, this.wView, this.hView);\n\n    if (!this.viewPortRect.within(this.worldRect)) {\n      if (this.viewPortRect.left < this.worldRect.left) {\n        this.xView = this.worldRect.left;\n      }\n      if (this.viewPortRect.top < this.worldRect.top) {\n        this.yView = this.worldRect.top;\n      }\n      if (this.viewPortRect.right > this.worldRect.right) {\n        this.xView = this.worldRect.right - this.wView;\n      }\n      if (this.viewPortRect.bottom > this.worldRect.bottom) {\n        this.yView = this.worldRect.bottom - this.hView;\n      }\n    }\n  }\n}\n\nexport default ClientCamera;","import Ball from \"./entities/ball\";\nimport Ship from \"./entities/ship\";\nimport Goals from \"./entities/goals\"\nimport ClientArena from \"./client_arena\"\nimport ClientCamera from \"./client_camera\"\nimport Booster from \"./entities/booster\";\n\nclass ClientGame {\n  constructor(socket, room, user, gameoptions) {\n    this.socket = socket;\n    this.room = room;\n    this.canvas = document.getElementById('game-canvas');\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.background = document.getElementById('background-canvas');\n    this.arenaCtx = this.background.getContext(\"2d\");\n\n    this.gameoptions = {\n      ship: gameoptions.ship,\n      ball: gameoptions.ball\n    }\n    this.arena = new ClientArena();\n    this.goalPosts = new Goals();\n\n    this.ball = new Ball();\n    this.self = new Ship(this.ctx, user, this.gameoptions.ship);\n    this.camera = new ClientCamera(0,0, 1600, 900, 3800, 1800)\n    this.camera.follow(this.self,800,450)\n    this.boosters = new Booster();\n    this.shipAngle = 0;\n    this.boosterPosX = 0;\n    this.boosterPosY = 0;\n    \n\n    /// NEW CODE FOR SHIPS - TEMPORARY?\n    this.shipSprite = new Image();\n    this.shipSprite.src = 'images/default_ship.png';\n\n    this.others = [];\n    this.othersPrev = [];\n  }\n\n  cycleAll(data) {\n    if (!this.winner) {\n      this.clearEntities(this.ctx)\n      this.stepEntities(data)\n      this.camera.update();\n      this.drawEntities(this.ctx)\n    }\n  }\n\n  clearEntities(ctx) {\n    this.goalPosts.clear(ctx, this.camera.xView, this.camera.yView)\n    this.ball.clear(ctx, this.camera.xView, this.camera.yView)\n    this.self.clear(ctx, this.camera.xView, this.camera.yView)\n    this.clearOthers(ctx, this.camera.xView, this.camera.yView);\n  }\n\n  stepEntities(data) {\n    this.ball.step(data)\n    this.self.step(data)\n    this.stepOthers(data);\n  }\n\n  drawEntities(ctx) {\n    this.arena.draw(this.arenaCtx, this.camera.xView, this.camera.yView)\n    this.ball.draw(ctx, this.camera.xView, this.camera.yView)\n    this.self.draw(ctx, this.camera.xView, this.camera.yView)\n    this.drawOthers(ctx, this.camera.xView, this.camera.yView);\n    this.goalPosts.draw(ctx, this.camera.xView, this.camera.yView)\n  }\n\n  clearOthers(ctx, xView, yView) {\n    for (let player of this.others) {\n      ctx.clearRect(player.pos.x - 100 - xView, player.pos.y - 80 - yView, 200, 200);\n    }\n  }\n\n  stepOthers(data) {\n    this.othersPrev = this.others;\n    this.others = data.others;\n  }\n\n  drawOthers(ctx, xView, yView) {\n    for (let i = 0; i < this.others.length; i++){\n      let jetDirection = this.others[i].jetDirection;\n      if(jetDirection.x === 0 && jetDirection.y === 0){\n        this.boosterPosX = false;\n        this.boosterPosY = false;\n      }\n        else if(jetDirection.x > 0 && jetDirection.y > 0){\n        this.shipAngle = 45;\n        this.boosterPosX = 95;\n        this.boosterPosY = -467;\n      } else if(jetDirection.x > 0 && jetDirection.y < 0){\n        this.shipAngle = 135;\n        this.boosterPosX = 121;\n        this.boosterPosY = -163;\n      } else if(jetDirection.y < 0 && jetDirection.x < 0){\n        this.shipAngle = 225;\n        this.boosterPosX = -182;\n        this.boosterPosY = -134;\n      } else if(jetDirection.y > 0 && jetDirection.x < 0){\n        this.shipAngle = 315;\n        this.boosterPosX = -212;\n        this.boosterPosY = -437;\n      } else if(jetDirection.y > 0){\n        this.shipAngle = 0;\n        this.boosterPosX = -65;\n        this.boosterPosY = -515;\n      } else if(jetDirection.x > 0) {\n        this.shipAngle = 90;\n        this.boosterPosX = 169;\n        this.boosterPosY = -320;\n      } else if(jetDirection.y < 0) {\n        this.shipAngle = 180;\n        this.boosterPosX = -25;\n        this.boosterPosY = -83;\n      } else if(jetDirection.x < 0) {\n        this.shipAngle = 270;\n        this.boosterPosX = -260;\n        this.boosterPosY = -280;\n      } \n\n      if(this.boosterPosX || this.boosterPosY){\n        this.boosters.draw(\n          this.ctx,\n          ((this.shipAngle + 180) * Math.PI) / 180,\n          this.others[i].pos.x - xView + this.boosterPosX,\n          this.others[i].pos.y - yView + this.boosterPosY\n        );\n      }\n\n      ctx.setTransform(1, 0, 0, 1, this.others[i].pos.x - xView, this.others[i].pos.y - yView);\n      ctx.rotate((this.shipAngle * Math.PI) / 180);\n      ctx.drawImage(this.shipSprite, -60 / 2, -60 / 2);\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n      ctx.fillStyle = \"#FFFFFF\"\n      ctx.font = \"16pt Audiowide\";\n      ctx.fillText(this.user, this.others[i].pos.x - xView, this.others[i].pos.y + 60 - yView);\n      ctx.textAlign = \"center\";\n    }\n  }\n}\n\nexport default ClientGame;","import ClientHud from './client_hud'\nimport ClientGame from './client_game'\n// import ClientArena from './client_arena';\nimport Input from './Input';\n\nclass ClientViewPort {\n  constructor(socket, room, user, gameoptions) {\n    // get game canvases\n    // this.canvas = document.getElementById('game-canvas');\n    // this.ctx = this.canvas.getContext(\"2d\");\n\n    // instantiate game parts\n    this.hud = new ClientHud(socket);\n    this.game = new ClientGame(socket, room, user, gameoptions);\n    // this.arena = new ClientArena();\n    \n    // assign unique user info to game\n    this.socket = socket\n    this.room = room\n    this.user = user\n    this.gameoptions = {\n      ship: gameoptions.ship,\n      ball: gameoptions.ball\n    }\n    // adds player to game room on backend\n    this.socket.emit('player-join', this.room)\n\n    // apply game controls\n    Input.applyEventHandlers();\n  }\n\n  init() {\n    this.socket.on('gameState', (data) => {\n      this.game.cycleAll(data)\n    });\n    this.gameLoop();\n  }\n\n  gameLoop() {\n    setInterval(() => {\n      if (!this.cooldown && (Input.LEFT || Input.UP || Input.RIGHT || Input.DOWN)) {\n        this.socket.emit('player-action', {\n          room: this.room,\n          keyboardState: {\n            left: Input.LEFT,\n            right: Input.RIGHT,\n            up: Input.UP,\n            down: Input.DOWN\n          }\n        });\n      }\n    }, 20);\n  }\n}\n\nexport default ClientViewPort;","import React from 'react';\n// import GameClient from '../../classes/game/client_game';\nimport ClientViewPort from '../../classes/game/client_viewport'\n\n\n\nclass GameView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.socket = this.props.location.socket\n    this.room = this.props.location.room\n  }\n\n  componentDidMount() {\n    if (!this.socket) window.location.href = \"/play\";\n    this.clientViewPort = new ClientViewPort(this.socket, this.room, this.props.user, this.props.gameoptions);\n    this.clientViewPort.init();\n  };\n  \n  componentWillUnmount() {\n    this.socket.disconnect();\n  }\n\n  render() {\n    return (\n      <div id=\"game-container\">\n        <canvas width=\"1600\" height=\"900\" id=\"hud-canvas\"></canvas>\n        <canvas width=\"1600\" height=\"900\" id=\"game-canvas\"></canvas>\n        <canvas width=\"1600\" height=\"900\" id=\"background-canvas\"></canvas>\n      </div>\n    );\n  }\n};\n\nexport default GameView;\n","import { connect } from \"react-redux\";\nimport { fetchInventory } from \"../../actions/inventory_actions\"\nimport GameView from \"./gameview\";\n\nconst mapStateToProps = state => ({\n    user: state.session.user,\n    gameoptions: state.inventory.gameoptions\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchInventory: () => dispatch(fetchInventory())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameView);\n","import React from 'react'\nimport { Link } from 'react-router-dom';\nimport NavBarContainer from \"../navbar/navbar_container\";\n\nclass Room extends React.Component {\n  constructor(props) {\n    super(props)\n    this.socket = this.props.location.socket;\n    this.room = this.props.location.room;\n    this.numPlayers = this.props.location.numPlayers;\n  }\n  componentDidMount() {\n    this.socket.emit('enter-room', this.room);\n  }\n  render() {\n    if (!this.room) window.location.href = \"/play\";\n    return (\n      <div className=\"mainpage-container\">\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n        <div className=\"clouds\"></div>\n        <NavBarContainer />\n        <div className=\"lobby-content\">\n          <div className=\"box\">\n            <svg style={{width:\"24px\", height:\"24px\"}} viewBox=\"0 0 24 24\">\n              <path fill=\"currentColor\" d=\"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\" />\n            </svg>\n            <div>Welcome to room #{this.room}</div>\n            <Link to={{\n              pathname: \"/game\",\n              room: this.room,\n              socket: this.socket\n            }}>\n              <div className=\"play\">Start Game</div>\n            </Link>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Room;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport io from 'socket.io-client';\nimport NavBarContainer from '../navbar/navbar_container';\n\nclass Play extends React.Component {\n    constructor(props) {\n        super(props);\n        this.socket = io();\n    }\n\n    componentDidMount() {\n        this.props.fetchInventory();\n    }\n\n    serverRow(server) {\n        return (\n            <li>\n                <Link to={{\n                    pathname: \"/room\",\n                    room: 1,\n                    numPlayers: 1,\n                    socket: this.socket,\n                    user: this.props.user,\n                    gameoptions: this.props.gameoptions\n                }}><div className=\"server-list\">\n                    <div className=\"server-column\"># {server.room}</div>\n                    <div className=\"server-column\">{server.numPlayers} Players</div>\n                </div>\n                </Link>\n            </li>\n        )\n    }\n\n    render() {\n        const servers = [\n            {room: 1,\n            numPlayers: 2},\n            {room: 2,\n            numPlayers: 2}\n        ]\n        return (\n            <div className=\"mainpage-container\">\n                <div className=\"stars\"></div>\n                <div className=\"twinkling\"></div>\n                <div className=\"clouds\"></div>\n                <NavBarContainer />\n                    <div className=\"lobby-content game-lobby\">\n                        <div className=\"box\">\n                            <div>Room List</div>\n                            <div className=\"server-list\">\n                                <div>Room</div>\n                                <div>Players</div>\n                            </div>\n                            <div>\n                                <ul>\n                                    {servers.map(server => (\n                                        this.serverRow(server)))}\n                                </ul>\n                            </div>\n                        <Link to={{\n                            pathname: \"/room\",\n                            room: 1,\n                            numPlayers: 1,\n                            socket: this.socket,\n                            user: this.props.user,\n                            gameoptions: this.props.gameoptions\n                        }}><div>Create Room</div></Link>\n                        </div>\n\n                        <div className=\"box\">\n                            <div className=\"title\">How To Play:</div>\n                            <div className=\"instructions\">Push the ball towards the oppenent's goal. <br />\n                                Score by getting the ball into the goal. <br />\n                                Move your ship with WASD. <br />\n                                First to 10 points wins. <br />\n                            </div>\n                        </div>\n\n\n                        <div className=\"buy-button\" onClick={this.handleClick}>Go Back</div>\n                        <Link to={{\n                            pathname: \"/room\",\n                            room: 1,\n                            numPlayers: 1,\n                            socket: this.socket,\n                            user: this.props.user,\n                            gameoptions: this.props.gameoptions\n                        }}><div className=\"buy-button\">Room 1</div></Link>\n                        <Link to={{\n                            pathname: \"/room\",\n                            room: 1,\n                            numPlayers: 1,\n                            socket: this.socket,\n                            user: this.props.user,\n                            gameoptions: this.props.gameoptions\n                        }}><div className=\"buy-button\">Room 1.5</div></Link>\n                    </div>\n            </div>\n        );\n\n    }\n\n};\n\nexport default Play;","import { connect } from \"react-redux\";\nimport { fetchInventory } from \"../../../actions/inventory_actions\"\nimport Play from \"./play\";\n\nconst mapStateToProps = state => ({\n    user: state.session.user,\n    gameoptions: state.inventory.gameoptions\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchInventory: () => dispatch(fetchInventory())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Play);\n","import React from \"react\";\n// import {connect} from \"react-redux\";\nimport { withRouter, Link } from \"react-router-dom\";\n\nclass PageNotFound extends React.Component{\n\n  componentDidMount(){   \n    // automatically redirect them (causes a edge case bug if the user tries to play too fast)\n    // setTimeout(() => {\n    //   this.props.history.push(\"/\");\n    // }, 4000);\n  }\n\n  render(){\n    return (\n      <div className=\"homepage-container\">\n        <h1 className=\"intro-title\">You've reached a universe that does not exist!</h1>\n        <Link className=\"lobby-container\" to=\"/\">\n          {/* <h2>Redirecting back to our universe (or click here!)...</h2> */}\n          <h2>Return to our universe (click here!)</h2>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(PageNotFound);\n\n","import React from \"react\";\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.props.fetchLeaderboard();\n  }\n\n  render() {\n    const leaderboard = this.props.leaderboard;\n    let counter = 0;\n    return (\n      <table className=\"leaderboard-table\">\n        <thead>\n          <tr className=\"table-title\">\n            <td className=\"column-rank\">RANK</td>\n            <td className=\"column-player\">PLAYER</td>\n            <td className=\"column-stat\">POINTS</td>\n            <td className=\"column-wins\">WINS</td>\n            <td className=\"column-losses\">LOSSES</td>\n          </tr>\n        </thead>\n        <tbody className=\"table-body\">\n          {leaderboard.map(el => (\n            <tr key={counter}>\n              <td>#{(counter += 1)}</td>\n              <td className=\"player-name column-player\">{el.username}</td>\n              <td>{el.points}</td>\n              <td>{el.wins}</td>\n              <td>{el.losses}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default Board;\n","import { connect } from \"react-redux\";\nimport Board from \"./board\";\nimport { fetchLeaderboard } from \"../../../../actions/leaderboard_actions\";\n\nconst mapStateToProps = state => ({\n  leaderboard: Object.values(state.leaderboard)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchLeaderboard: () => dispatch(fetchLeaderboard())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n","import axios from \"axios\";\n\nexport const RECEIVE_ERRORS = \"RECEIVE_ERRORS\";\nexport const RECEIVE_LEADERBOARDS = \"RECEIVE_LEADERBOARDS\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\n\nexport const fetchLeaderboard = () => dispatch => {\n  axios\n    .get(\"/api/leaderboard\")\n    .then(res =>\n      dispatch({\n        type: RECEIVE_LEADERBOARDS,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: RECEIVE_LEADERBOARDS,\n        payload: null\n      })\n    );\n};\n\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS\n  };\n};","import React from \"react\";\n// import LoginFormContainer from \"../../../session/login_form_container\";\n// import SignupFormContainer from \"../../../session/signup_form_container\";\n\nclass Stats extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.logoutUser = this.logoutUser.bind(this);\n    this.getLinks = this.getLinks.bind(this);\n  }\n\n  // componentDidMount() {\n  //   this.props.fetchStats();\n  // }\n\n  // logoutUser(e) {\n  //   e.preventDefault();\n  //   this.props.logout();\n  // }\n\n  getLinks() {\n    const stats = this.props.stats;\n    const ratio = stats.wins / (stats.wins + stats.losses);\n    const winpercent = (ratio ? (ratio * 100).toFixed(2) : 0);\n\n    if (this.props.loggedIn) {\n      return (\n        <table className=\"stats-table\">\n          <thead>\n            <tr className=\"stats-title\">\n              <td className=\"column-points\">POINTS</td>\n              <td className=\"column-wins\">WINS</td>\n              <td className=\"column-losses\">LOSSES</td>\n              <td className=\"column-winloss\">WIN %</td>\n            </tr>\n          </thead>\n          <tbody className=\"stats-body\">\n            <tr>\n              <td className=\"stats-data\">{stats.points}</td>\n              <td className=\"stats-data\">{stats.wins}</td>\n              <td className=\"stats-data\">{stats.losses}</td>\n              <td className=\"stats-data\">{winpercent}%</td>\n            </tr>\n          </tbody>\n        </table>\n      );\n    } else {\n      return (\n        <div>You must be logged in to view your stats</div>\n      )\n    }\n\n  }\n\n  render() {\n    return <div>{this.getLinks()}</div>;\n  }\n}\n\nexport default Stats;\n","import { connect } from \"react-redux\";\nimport { fetchStats } from \"../../../../actions/stats_actions\";\nimport Stats from \"./stats\";\n\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.session.isAuthenticated,\n    stats: state.stats,\n    user: state.session.user.username || null\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  fetchStats: () => dispatch(fetchStats())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Stats);\n","import React from \"react\";\nimport NavBarContainer from \"../navbar/navbar_container\"\nimport BoardContainer from \"./board/board_container\";\nimport StatsContainer from \"./stats/stats_container\";\n\n\nclass Leaderboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { selected: \"leader\" };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    this.setState({\n      selected: e.target.id\n    });\n    Array.from(document.getElementsByClassName(\"board-select\")).forEach(el =>\n      el.classList.remove(\"active\")\n    );\n    e.target.classList.add(\"active\");\n  }\n\n  render() {\n    const selected = this.state.selected;\n    let currentViewPort;\n\n    if (selected === \"leader\") {\n      currentViewPort = <BoardContainer />;\n    } else if (selected === \"stats\") {\n      currentViewPort = <StatsContainer />;\n    }\n\n    return (\n      <div className=\"mainpage-container\">\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n        <div className=\"clouds\"></div>\n        <NavBarContainer />\n        <div className=\"leaderboard\">\n          <div className=\"leaderboard-menu\">\n            <div className=\"board-select active\" id=\"leader\" onClick={this.handleClick}>\n              Leaderboard\n            </div>\n            <div className=\"board-select\" id=\"stats\" onClick={this.handleClick}>\n              My Stats\n            </div>\n          </div>\n          {currentViewPort}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Leaderboard;","import React from \"react\";\n\nclass Ship extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      optionSelection: \"Default\"\n    };\n\n    this.handleSelectChild = this.handleSelectChild.bind(this);\n    this.selectShip = this.selectShip.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.toggleSelect();\n  }\n\n  selectShip() {\n    const selected = new Promise((resolve, reject) => {\n      resolve(this.props.selectShip(this.state.optionSelection))\n    })\n    selected.then(() => {\n      setTimeout(() => {\n        this.props.fetchInventory();\n      }, 100);\n    })\n  }\n\n  handleSelectChild(e) {\n    this.props.handleSelect(e);\n    this.setState({\n      optionSelection: e.target.id\n    })\n  }\n\n  display() {\n    const optionSelection = this.state.optionSelection;\n    const gameoptions = this.props.inventory.gameoptions;\n    const ships = this.props.inventory.ships;\n    console.log(this.props.inventory)\n    if (gameoptions.ship.includes(optionSelection)) {\n      return (\n        <div className=\"ship-selected-message\">SELECTED</div>\n      )\n    } else if (ships.includes(optionSelection)) {\n      return (\n        <div className=\"select-ship\"\n          onClick={this.selectShip}>SELECT THIS SHIP</div>\n      )\n    } else {\n      return (\n        <div>\n          <div className=\"unavailable\">SHIP NOT IN INVENTORY</div>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"shop-container\">\n        <div className=\"currency\">${this.props.inventory.currency}</div>\n        <div className=\"title\">Choose a Ship Color:</div>\n        <div className=\"ship-options\">\n          <div className=\"select-button active\" id=\"Default\"\n            onClick={this.handleSelectChild}>\n            Default\n          </div>\n          <div className=\"select-button\" id=\"Red\"\n            onClick={this.handleSelectChild}>\n            Red\n          </div>\n          <div className=\"select-button\" id=\"Green\"\n            onClick={this.handleSelectChild}>\n            Green\n          </div>\n          <div className=\"select-button\" id=\"Blue\"\n            onClick={this.handleSelectChild}>\n            Blue\n          </div>\n        </div>\n        {/* <div className=\"slider\">\n          <div className=\"slides\">\n            <div id=\"slide-1\">1</div>\n            <div id=\"slide-2\">2</div>\n            <div id=\"slide-3\">3</div>\n            <div id=\"slide-4\">4</div>\n          </div>\n        </div> */}\n        {this.display()}\n      </div>\n    );\n  }\n}\n\nexport default Ship;\n","import { connect } from \"react-redux\";\nimport Ship from \"./ship\";\nimport { fetchInventory, selectShip } from \"../../../../actions/inventory_actions\";\n\nconst mapStateToProps = state => ({\n  loggedIn: state.session.isAuthenticated,\n  inventory: state.inventory,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchInventory: () => dispatch(fetchInventory()),\n  selectShip: ship => dispatch(selectShip(ship))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Ship);\n","import React from \"react\";\n\nclass Ball extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      optionSelection: \"Earth\"\n    };\n\n    this.handleSelectChild = this.handleSelectChild.bind(this);\n    this.selectBall = this.selectBall.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.toggleSelect();\n  }\n\n  selectBall() {\n    const sel = new Promise((resolve, reject) => {\n      resolve(this.props.selectBall(this.state.optionSelection))\n    })\n    sel.then(() => {\n      setTimeout(() => {\n        this.props.fetchInventory();\n      }, 100);\n    })\n  }\n\n  handleSelectChild(e) {\n    this.props.handleSelect(e);\n    this.setState({\n      optionSelection: e.target.id\n    })\n  }\n\n  display() {\n    const optionSelection = this.state.optionSelection;\n    const gameoptions = this.props.inventory.gameoptions;\n    const balls = this.props.inventory.balls;\n\n    if (gameoptions.ball.includes(optionSelection)) {\n      return (\n        <div className=\"ball-selected-message\">SELECTED</div>\n      )\n    } else if (balls.includes(optionSelection)) {\n      return (\n        <div className=\"select-ball\"\n          onClick={this.selectBall}>SELECT THIS BALL</div>\n      )\n    } else {\n      return (\n        <div>\n          <div className=\"unavailable\">BALL NOT IN INVENTORY</div>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"shop-container\">\n        <div className=\"currency\">${this.props.inventory.currency}</div>\n        <div className=\"title\">Choose a Ball Type:</div>\n        <div className=\"ball-options\">\n          <div className=\"select-button active\" id=\"Earth\" onClick={this.handleSelectChild}>Earth</div>\n          <div className=\"select-button\" id=\"Soccer\" onClick={this.handleSelectChild}>Soccer</div>\n          <div className=\"select-button\" id=\"Pizza\" onClick={this.handleSelectChild}>Pizza</div>\n          <div className=\"select-button\" id=\"Moon\" onClick={this.handleSelectChild}>Moon</div>\n        </div>\n        {this.display()}\n      </div>\n    );\n  }\n}\n\nexport default Ball;\n","import { connect } from \"react-redux\";\nimport Ball from \"./ball\";\nimport { fetchInventory, selectBall } from \"../../../../actions/inventory_actions\";\n\nconst mapStateToProps = state => ({\n  loggedIn: state.session.isAuthenticated,\n  inventory: state.inventory,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchInventory: () => dispatch(fetchInventory()),\n  selectBall: ball => dispatch(selectBall(ball))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Ball);\n","import React from \"react\";\nimport ShipContainer from \"./ship/ship_container\";\nimport BallContainer from \"./ball/ball_container\";\nimport NavBarContainer from \"../navbar/navbar_container\";\n\nclass Options extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: \"ship\",\n      optionSelection: \"Default\"\n    }\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.leftViewPort = this.leftViewPort.bind(this);\n    this.rightViewPort = this.rightViewPort.bind(this);\n    this.toggleSelect = this.toggleSelect.bind(this);\n    this.buyShip = this.buyShip.bind(this);\n    this.buyBall = this.buyBall.bind(this);\n    this.sellShip = this.sellShip.bind(this);\n    this.sellBall = this.sellBall.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.loggedIn) {\n      this.props.fetchInventory();\n    }\n  }\n\n  handleClick(e) {\n    this.setState({ selected: e.target.id });\n    Array.from(document.getElementsByClassName(\"customize\")).forEach(el =>\n      el.classList.remove(\"active\")\n    );\n    e.target.classList.add(\"active\");\n  }\n\n  toggleSelect() {\n    const state = this.state;\n    if (state.selected === \"ship\") {\n      this.setState({ optionSelection: \"Default\" });\n    } else if (state.selected === \"ball\") {\n      this.setState({ optionSelection: \"Earth\" });\n    }\n  }\n\n  handleSelect(e) {\n    this.setState({\n      optionSelection: e.target.id\n    });\n    Array.from(document.getElementsByClassName(\"select-button\")).forEach(el =>\n      el.classList.remove(\"active\")\n    );\n    e.target.classList.add(\"active\");\n  }\n\n  buyShip() {\n    const buy = new Promise((resolve, reject) => {\n      resolve(this.props.addShip(this.state.optionSelection))\n    })\n\n    if (this.props.inventory.currency - 500 >= 0) {\n      buy.then(() => {\n        this.props.changeCurrency(-500)\n      })\n        .then(() => {\n          setTimeout(() => {\n            this.props.fetchInventory();\n          }, 50);\n        })\n    } else {\n      alert(\"NOT ENOUGH MONEY! Play more, earn more.\")\n    }\n  }\n\n  buyBall() {\n    const buy = new Promise((resolve, reject) => {\n      resolve(this.props.addBall(this.state.optionSelection))\n    })\n    if (this.props.inventory.currency - 500 >= 0) {\n      buy.then(() => {\n        this.props.changeCurrency(-500)\n      })\n        .then(() => {\n          setTimeout(() => {\n            this.props.fetchInventory();\n          }, 50);\n        })\n    } else {\n      alert(\"NOT ENOUGH MONEY! Play more, earn more.\")\n    }\n  }\n\n  sellShip() {\n    this.props.removeShip(this.state.optionSelection)\n    this.props.selectShip(\"Default\")\n    setTimeout(() => {\n      this.props.changeCurrency(500)\n    }, 50);\n    setTimeout(() => {\n      this.props.fetchInventory();\n    }, 100);\n  }\n\n  sellBall() {\n    this.props.removeBall(this.state.optionSelection)\n    this.props.selectBall(\"Earth\")\n    setTimeout(() => {\n      this.props.changeCurrency(500)\n    }, 50);\n    setTimeout(() => {\n      this.props.fetchInventory();\n    }, 100);\n  }\n\n  leftViewPort() {\n    const selected = this.state.selected;\n    if (selected === \"ship\") {\n      return <ShipContainer handleSelect={this.handleSelect}\n        toggleSelect={this.toggleSelect} />\n    } else {\n      return <BallContainer handleSelect={this.handleSelect}\n        toggleSelect={this.toggleSelect} />\n    }\n  }\n\n  rightViewPort() {\n    const optionSelection = this.state.optionSelection;\n\n    if (optionSelection === \"Default\") {\n      return (\n        <img src=\"images/default_ship_full.png\" className=\"ship\" alt=\"defaultship\" />\n      );\n    } else if (optionSelection === \"Red\") {\n      return <img src=\"images/red_ship_full.png\" className=\"ship\" alt=\"redship\" />;\n    } else if (optionSelection === \"Green\") {\n      return (\n        <img src=\"images/green_ship_full.png\" className=\"ship\" alt=\"greenship\" />\n      );\n    } else if (optionSelection === \"Blue\") {\n      return <img src=\"images/blue_ship_full.png\" className=\"ship\" alt=\"blueship\" />;\n    } else if (optionSelection === \"Earth\") {\n      return <img className=\"ball\" src=\"images/earth.png\" alt=\"earth\" />;\n    } else if (optionSelection === \"Soccer\") {\n      return <img className=\"ball\" src=\"images/soccer_ball.png\" alt=\"soccer\" />;\n    } else if (optionSelection === \"Pizza\") {\n      return <img className=\"ball\" src=\"images/pizza.png\" alt=\"pizza\" />;\n    } else if (optionSelection === \"Moon\") {\n      return <img className=\"ball\" src=\"images/moon.png\" alt=\"moon\" />;\n    }\n  }\n\n  purchaseOption() {\n    const optionSelection = this.state.optionSelection;\n    const selected = this.state.selected;\n\n    if (!this.props.loggedIn) {\n      if (optionSelection === \"Default\" || optionSelection === \"Earth\") {\n        return (\n          <div className=\"purchase-container\">\n            <div className=\"price\">Not For Sale</div>\n            <div className=\"default-button\">Default</div>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"purchase-container\">\n            <div className=\"price\">$500</div>\n            <div className=\"buy-button\" id=\"login\" onClick={this.props.showLogin}>\n              BUY\n            </div>\n          </div>\n        )\n      }\n    } else {\n      if (optionSelection === \"Default\" || optionSelection === \"Earth\") {\n        return (\n          <div className=\"purchase-container\">\n            <div className=\"price\">Not For Sale</div>\n            <div className=\"default-button\">Default</div>\n          </div>\n        )\n      } else if (\n        this.props.inventory.ships.includes(optionSelection) ||\n        this.props.inventory.balls.includes(optionSelection)\n      ) {\n        if (selected === \"ship\") {\n          return (\n            <div className=\"purchase-container\">\n              <div className=\"price\">$500</div>\n              <div className=\"sell-button\" onClick={this.sellShip}>SELL</div>\n            </div>\n          );\n        } else {\n          return (\n            <div className=\"purchase-container\">\n              <div className=\"price\">$500</div>\n              <div className=\"sell-button\" onClick={this.sellBall}>SELL</div>\n            </div>\n          )\n        }\n      } else {\n        if (selected === \"ship\") {\n          return (\n            <div className=\"purchase-container\">\n              <div className=\"price\">$500</div>\n              <div className=\"buy-button\" onClick={this.buyShip}>\n                BUY\n              </div>\n            </div>\n          );\n        } else {\n          return (\n            <div className=\"purchase-container\">\n              <div className=\"price\">$500</div>\n              <div className=\"buy-button\" onClick={this.buyBall}>\n                BUY\n              </div>\n            </div>\n          );\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"mainpage-container\">\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n        <div className=\"clouds\"></div>\n        <NavBarContainer />\n        <div className=\"options-container\">\n          <div className=\"customize-panel\">\n            <div className=\"customize-title\">Game Options</div>\n            <div className=\"select-customization\">\n              <div className=\"customize active\" id=\"ship\"\n                onClick={this.handleClick}>\n                Ship\n            </div>\n              <div className=\"customize\" id=\"ball\"\n                onClick={this.handleClick}>\n                Ball\n            </div>\n            </div>\n            <div>{this.leftViewPort()}</div>\n          </div>\n          <div className=\"picture-container\">\n            {this.rightViewPort()}\n            {this.purchaseOption()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Options;","import { connect } from \"react-redux\";\nimport Options from \"./options\";\nimport {\n  fetchInventory,\n  addShip,\n  addBall,\n  removeShip,\n  removeBall,\n  selectShip,\n  selectBall,\n  changeCurrency\n} from \"../../../actions/inventory_actions\";\n\nconst mapStateToProps = state => ({\n  loggedIn: state.session.isAuthenticated,\n  user: state.session.user,\n  inventory: state.inventory\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchInventory: () => dispatch(fetchInventory()),\n  addShip: ship => dispatch(addShip(ship)),\n  addBall: ball => dispatch(addBall(ball)),\n  removeShip: ship => dispatch(removeShip(ship)),\n  removeBall: ball => dispatch(removeBall(ball)),\n  selectShip: ship => dispatch(selectShip(ship)),\n  selectBall: ball => dispatch(selectBall(ball)),\n  changeCurrency: amount => dispatch(changeCurrency(amount))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Options);\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { AuthRoute } from \"../util/route_util\";\nimport MainPage from \"./main/main_page\";\nimport LoginContainer from \"./session/login_form_container\";\nimport SignupContainer from \"./session/signup_form_container\";\nimport GameViewContainer from \"./game/gameview_container\";\nimport Room from \"./main/lobby/room\";\nimport PlayContainer from \"./main/lobby/play_container\";\nimport PageNotFound from \"./main/page_not_found\";\nimport Leaderboard from \"./main/leaderboard/leaderboard\";\nimport OptionsContainer from \"./main/options/options_container\";\n\n\nconst App = () => (\n\n  <Switch>\n    <AuthRoute exact path=\"/\" component={MainPage} />\n    <Route exact path=\"/login\" component={LoginContainer} />\n    <Route exact path=\"/signup\" component={SignupContainer} />\n    <Route exact path=\"/game\" component={GameViewContainer} />\n    <Route exact path=\"/room\" component={Room} />\n    <Route exact path=\"/play\" component={PlayContainer} />\n    <Route exact path=\"/leaderboard\" component={Leaderboard} />\n    <Route exact path=\"/options\" component={OptionsContainer} />\n    <Route component={PageNotFound} />\n  </Switch>\n\n\n\n);\n\nexport default App;\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./app\";\n\n\nconst Root = ({ store }) => (\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n);\n\nexport default Root;\n","import {\n  RECEIVE_USER_LOGOUT,\n  RECEIVE_CURRENT_USER,\n  RECEIVE_USER_SIGN_IN\n} from \"../actions/session_actions\";\n\nconst initialState = {\n  isAuthenticated: false,\n  user: \"Guest\"\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case RECEIVE_USER_LOGOUT:\n      return {\n        isAuthenticated: false,\n        user: \"Guest\"\n      };\n    case RECEIVE_CURRENT_USER:\n      return {\n        isAuthenticated: true,\n        user: action.currentUser\n      };\n    case RECEIVE_USER_SIGN_IN:\n      return {\n        ...state,\n        isSignedIn: true,\n        user: action.currentUser\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  RECEIVE_SESSION_ERRORS,\n  RECEIVE_CURRENT_USER,\n  CLEAR_ERRORS\n} from \"../actions/session_actions\";\n\nconst _nullErrors = [];\n\nconst SessionErrorsReducer = (state = _nullErrors, action) => {\n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_SESSION_ERRORS:\n      return action.errors;\n    case RECEIVE_CURRENT_USER:\n      return _nullErrors;\n    case CLEAR_ERRORS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nexport default SessionErrorsReducer;\n","import { combineReducers } from \"redux\";\n\nimport SessionErrorsReducer from \"./session_errors_reducer\";\n\nexport default combineReducers({\n  session: SessionErrorsReducer\n});\n","import { RECEIVE_STATS, CREATE_STAT, CLEAR_STATS } from \"../actions/stats_actions\";\n\nexport const nullStats = () => ({ points: 0, wins: 0, losses: 0 });\n\nconst statsReducer = (state = nullStats(), action) => {\n  switch (action.type) {\n    case RECEIVE_STATS:\n      return Object.assign({}, state, action.payload);\n    case CREATE_STAT:\n      return Object.assign({}, state, action.payload);\n    case CLEAR_STATS:\n      return nullStats();\n    default:\n      return state;\n  }\n};\n\nexport default statsReducer;\n","import { RECEIVE_LEADERBOARDS } from \"../actions/leaderboard_actions\";\n\nconst leaderboardReducer = (state = {}, action) => {\n  switch (action.type) {\n    case RECEIVE_LEADERBOARDS:\n      return Object.assign({}, state, action.payload);\n    default:\n      return state;\n  }\n};\n\nexport default leaderboardReducer;\n","import { RECEIVE_INVENTORY, CREATE_INVENTORY, ADD_SHIP, ADD_BALL, CHANGE_CURRENCY, SELECT_SHIP, SELECT_BALL } from \"../actions/inventory_actions\";\n\nexport const nullInventory = () => ({ currency: 0, ships: [\"Default\"], balls: [\"Earth\"], gameoptions: {ship: \"Default\", ball: \"Earth\"} });\n\nconst inventoryReducer = (state = nullInventory(), action) => {\n  switch (action.type) {\n    case RECEIVE_INVENTORY:\n      return Object.assign({}, state, action.payload);\n    case CREATE_INVENTORY:\n      return Object.assign({}, state, action.payload);\n    case ADD_SHIP:\n      return Object.assign({}, state, action.payload);\n    case ADD_BALL:\n      return Object.assign({}, state, action.payload)\n    case SELECT_SHIP: \n      return Object.assign({}, state, action.payload);\n    case SELECT_BALL:\n      return Object.assign({}, state, action.payload)\n    case CHANGE_CURRENCY:\n      return Object.assign({}, action.payload);\n    default:\n      return state;\n  }\n};\n\nexport default inventoryReducer;\n","import { combineReducers } from \"redux\";\nimport session from \"./session_reducer\";\nimport errors from \"./errors_reducer\";\nimport sessionErrors from \"./session_errors_reducer\";\nimport statsReducer from \"./stats_reducer\";\nimport leaderboardReducer from \"./leaderboard_reducer\";\nimport inventoryReducer from \"./inventory_reducer\";\n\nconst RootReducer = combineReducers({\n  session,\n  errors,\n  sessionErrors,\n  stats: statsReducer,\n  leaderboard: leaderboardReducer,\n  inventory: inventoryReducer\n});\n\nexport default RootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport logger from \"redux-logger\";\n\nimport rootReducer from \"../reducers/root_reducer\";\n\nconst configureStore = (preloadedState = {}) =>\n  createStore(rootReducer, preloadedState, applyMiddleware(thunk, logger));\n\nexport default configureStore;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/css/reset.css\";\nimport \"./assets/css/game.css\";\nimport \"./assets/css/ui.css\";\nimport \"./assets/css/nav_login.css\";\nimport \"./assets/css/play.css\";\nimport \"./assets/css/options.css\";\nimport \"./assets/css/leaderboard.css\";\nimport axios from \"axios\";\nimport Root from \"./components/root\";\nimport configureStore from \"./store/store\";\nimport jwt_decode from \"jwt-decode\";\nimport { setAuthToken } from \"./util/session_api_util\";\nimport { logout } from \"./actions/session_actions\";\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  let store;\n\n  // If a returning user has a session token stored in localStorage\n  if (localStorage.jwtToken) {\n    // Set the token as a common header for all axios requests\n    setAuthToken(localStorage.jwtToken);\n    // Decode the token to obtain the user's information\n    const decodedUser = jwt_decode(localStorage.jwtToken);\n    // Create a preconfigured state we can immediately add to our store\n    const preloadedState = {\n      session: { isAuthenticated: true, user: decodedUser }\n    };\n\n    store = configureStore(preloadedState);\n    const currentTime = Date.now() / 1000;\n    // If the user's token has expired\n    if (decodedUser.exp < currentTime) {\n      // Logout the user and redirect to the login page\n      store.dispatch(logout());\n      window.location.href = \"/login\";\n    }\n  } else {\n    // If this is a first time user, start with an empty store\n    store = configureStore({});\n  }\n  // Render our root component and pass in the store as a prop\n  const root = document.getElementById(\"root\");\n\n  ReactDOM.render(<Root store={store} />, root);\n  window.axios = axios;\n});\n","/**\n * This class facilitates the tracking of user input, such as mouse clicks\n * and button presses.\n */\n\n/**\n * Empty constructor for the Input object.\n */\nfunction Input() {\n  throw new Error('Input should not be instantiated!');\n}\n\n/** @type {boolean} */\nInput.LEFT = false;\n/** @type {boolean} */\nInput.UP = false;\n/** @type {boolean} */\nInput.RIGHT = false;\n/** @type {boolean} */\nInput.DOWN = false;\n/** @type {boolean} */\nInput.ENTER = false;\n/** @type {Object<number, boolean>} */\nInput.MISC_KEYS = {};\n\n/**\n * This method is a callback bound to the onkeydown event on the document and\n * @param {Event} event The event passed to this function.\n * updates the state of the keys stored in the Input class.\n */\nInput.onKeyDown = function (event) {\n  switch (event.keyCode) {\n    case 13:\n      Input.ENTER = true;\n      break;\n    case 65:\n      Input.LEFT = true;\n      break;\n    case 87:\n      Input.UP = true;\n      break;\n    case 68:\n      Input.RIGHT = true;\n      break;\n    case 83:\n      Input.DOWN = true;\n      break;\n    default:\n      Input.MISC_KEYS[event.keyCode] = true;\n      break;\n  }\n};\n\n/**\n * This method is a callback bound to the onkeyup event on the document and\n * updates the state of the keys stored in the Input class.\n * @param {Event} event The event passed to this function.\n */\nInput.onKeyUp = function (event) {\n  switch (event.keyCode) {\n    case 37:\n    case 65:\n      Input.LEFT = false;\n      break;\n    case 38:\n    case 87:\n      Input.UP = false;\n      break;\n    case 39:\n    case 68:\n      Input.RIGHT = false;\n      break;\n    case 40:\n    case 83:\n      Input.DOWN = false;\n      break;\n    default:\n      Input.MISC_KEYS[event.keyCode] = false;\n  }\n};\n\n/**\n * This should be called during initialization to allow the Input\n * class to track user input.\n * @param {Element} element The element to apply the event listener to.\n */\nInput.applyEventHandlers = function () {\n  document.addEventListener('keyup', Input.onKeyUp);\n  document.addEventListener('keydown', Input.onKeyDown);\n};\n\n\nmodule.exports = Input;"],"sourceRoot":""}