(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{134:function(e,t){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(32),r=a.n(i),o=(a(76),a(77),a(78),a(79),a(80),a(81),a(82),a(10)),c=a.n(o),l=a(8),u=a(9),h=a(20),m=a(70),d=function(e){return{loggedIn:e.session.isAuthenticated}},p=Object(h.g)(Object(l.b)(d)((function(e){var t=e.component,a=e.path,n=(e.loggedIn,e.exact);return s.a.createElement(h.b,{path:a,exact:n,render:function(e){return s.a.createElement(t,e)}})}))),E=(Object(h.g)(Object(l.b)(d)((function(e){var t=e.component,a=e.loggedIn,n=Object(m.a)(e,["component","loggedIn"]);return s.a.createElement(h.b,Object.assign({},n,{render:function(e){return a?s.a.createElement(t,e):s.a.createElement(h.a,{to:"/login"})}}))}))),a(1)),f=a(2),b=a(6),v=a(5),y=a(3),g=a(7),w=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).logoutUser=a.logoutUser.bind(Object(y.a)(a)),a.handleClick=a.handleClick.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"handleClick",value:function(e){Array.from(document.getElementsByClassName("nav-select")).forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active");var t=Array.from(document.getElementsByClassName("nav-select"));console.log(t)}},{key:"logoutUser",value:function(e){e.preventDefault(),this.props.logout()}},{key:"loginLinks",value:function(){return this.props.loggedIn?s.a.createElement("div",{className:"loggedin"},s.a.createElement("div",{className:"greeting"},"Hello ",this.props.user.username," !"),s.a.createElement("button",{className:"logout-button",onClick:this.logoutUser},"Log Out")):s.a.createElement("div",{className:"loggedout"},s.a.createElement(u.b,{to:"/login"},s.a.createElement("button",{className:"login-button",id:"login"},"Log In")))}},{key:"render",value:function(){return s.a.createElement("div",{className:"navbar"},s.a.createElement("div",{className:"nav"},s.a.createElement(u.b,{to:"/"},s.a.createElement("svg",{className:"nav-select home-button active",id:"home",viewBox:"0 0 24 24",onClick:this.handleClick},s.a.createElement("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}))),s.a.createElement(u.b,{to:"/play"},s.a.createElement("div",{className:"nav-select",id:"play",onClick:this.handleClick},"PLAY")),s.a.createElement(u.b,{to:"/options"},s.a.createElement("div",{className:"nav-select",id:"options",onClick:this.handleClick},"OPTIONS")),s.a.createElement(u.b,{to:"/leaderboard"},s.a.createElement("div",{className:"nav-select",id:"leaderboard",onClick:this.handleClick},"LEADERBOARD"))),this.loginLinks())}}]),t}(s.a.Component),k=function(e){e?c.a.defaults.headers.common.Authorization=e:delete c.a.defaults.headers.common.Authorization},S=a(26),N=a.n(S),O=function(){return function(e){c.a.get("/api/stats").then((function(t){return e({type:"RECEIVE_STATS",payload:t.data})})).catch((function(t){return e({type:"RECEIVE_STATS",payload:null})}))}},j=function(){return function(e){c.a.get("/api/inventory").then((function(t){return e({type:"RECEIVE_INVENTORY",payload:t.data})})).catch((function(t){return e({type:"RECEIVE_INVENTORY",payload:null})}))}},C=function(e){return function(t){c.a.patch("/api/inventory/selectship",{gameoptions:e}).then((function(e){return t({type:"SELECT_SHIP",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}},R=function(e){return function(t){c.a.patch("/api/inventory/selectball",{gameoptions:e}).then((function(e){return t({type:"SELECT_BALL",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}},I=function(e){return{type:"RECEIVE_CURRENT_USER",currentUser:e}},x=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},P=function(e){return function(t){return(a=e,c.a.post("/api/users/signup",a)).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),k(a);var n=N()(a);t(I(n))})).then((function(){return window.location.replace("/")})).catch((function(e){t(x(e.response.data))}));var a}},V=function(e){return function(t){return(a=e,c.a.post("/api/users/login",a)).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),k(a);var n=N()(a);t(I(n))})).then((function(){return t(O())})).then((function(){return t(j())})).then((function(){return window.location.replace("/")})).catch((function(e){t(x(e.response.data))}));var a}},A=function(){return function(e){localStorage.removeItem("jwtToken"),k(!1),e({type:"RECEIVE_USER_LOGOUT"}),e(j()),window.location.reload(!1)}},T=Object(l.b)((function(e){return{loggedIn:e.session.isAuthenticated,user:e.session.user}}),(function(e){return{logout:function(){return e(A())}}}))(w),D=function(){return s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"lobby-content"},s.a.createElement("img",{className:"logo",src:"images/space_ball.png",width:"600",alt:"logo"})))},L=a(23),_=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={username:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a.renderErrors=a.renderErrors.bind(Object(y.a)(a)),a.handleDemo=a.handleDemo.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.clearErrors()}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(L.a)({},e,a.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.login(t)}},{key:"demo",value:function(e){var t=this,a=e.username,n=e.password,s=70*a.length,i=s+70*n.length+140;this.demoUsername(a,70),this.update("username"),setTimeout((function(){return t.demoPassword(n,70)}),s),this.update("password"),setTimeout((function(){return t.props.login(e)}),i+200)}},{key:"demoUsername",value:function(e,t){var a=this,n=0;setInterval((function(){n<=e.length?(a.setState({username:e.slice(0,n)}),n++):clearInterval()}),t)}},{key:"demoPassword",value:function(e,t){var a=this,n=0;setInterval((function(){n<=e.length?(a.setState({password:e.slice(0,n)}),n++):clearInterval()}),t)}},{key:"handleDemo",value:function(e){e.preventDefault();var t=Object.assign({},{username:"DemoUser",password:"demodemo"});this.demo(t)}},{key:"renderErrors",value:function(){var e=this;return s.a.createElement("ul",{className:"errors"},Object.keys(this.props.errors).map((function(t,a){return s.a.createElement("li",{key:"error-".concat(a)},e.props.errors[t])})))}},{key:"render",value:function(){return s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"form-container-login"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"login-form"},s.a.createElement("input",{className:"input-field",type:"text",value:this.state.username,onChange:this.update("username"),placeholder:"Username"}),s.a.createElement("br",null),s.a.createElement("input",{className:"input-field",type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),s.a.createElement("br",null),s.a.createElement("input",{className:"submit-button",type:"submit",value:"LOG IN"}),s.a.createElement("br",null),s.a.createElement("button",{className:"demo-login-button",onClick:this.handleDemo,type:"button"},"DEMO LOG IN"),this.renderErrors())),s.a.createElement(u.b,{to:"signup"},s.a.createElement("div",{className:"alt-text"},s.a.createElement("div",null,"Create an account?"),s.a.createElement("div",{className:"link"},"Sign Up")))))}}]),t}(s.a.Component),B=Object(h.g)(_),F=Object(l.b)((function(e){return{errors:e.errors.session,loggedIn:e.session.isAuthenticated}}),(function(e){return{login:function(t){return e(V(t))},clearErrors:function(){return e({type:"CLEAR_ERRORS"})}}}))(B),Y=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={email:"",username:"",password:"",password2:""},a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.clearErrors()}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(L.a)({},e,a.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,username:this.state.username,password:this.state.password,password2:this.state.password2};this.props.signup(t,this.props.history),this.props.createStat(t),this.props.createInventory(t)}},{key:"renderErrors",value:function(){var e=this;return s.a.createElement("ul",{className:"errors"},Object.keys(this.props.errors).map((function(t,a){return s.a.createElement("li",{key:"error-".concat(a)},e.props.errors[t])})))}},{key:"render",value:function(){return s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"form-container-signup"},s.a.createElement("div",{className:"title"},"Sign Up for a New Account"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"signup-form"},s.a.createElement("input",{className:"input-field",type:"text",value:this.state.email,onChange:this.update("email"),placeholder:"Email"}),s.a.createElement("br",null),s.a.createElement("input",{className:"input-field",type:"text",value:this.state.username,onChange:this.update("username"),placeholder:"Username"}),s.a.createElement("br",null),s.a.createElement("input",{className:"input-field",type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),s.a.createElement("br",null),s.a.createElement("input",{className:"input-field",type:"password",value:this.state.password2,onChange:this.update("password2"),placeholder:"Confirm Password"}),s.a.createElement("br",null),s.a.createElement("input",{className:"submit-button",type:"submit",value:"SIGN UP"}),this.renderErrors())),s.a.createElement(u.b,{to:"/login"},s.a.createElement("div",{className:"alt-text"},s.a.createElement("div",null,"Already have an account?"),s.a.createElement("div",{className:"link"},"Login")))))}}]),t}(s.a.Component),G=Object(h.g)(Y),U=Object(l.b)((function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}}),(function(e){return{signup:function(t){return e(P(t))},createStat:function(t){return e(function(e){return function(t){return c.a.post("/api/stats",e).then((function(e){return t({type:"CREATE_STAT",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))},createInventory:function(t){return e(function(e){return function(t){c.a.post("/api/inventory",e).then((function(e){return t({type:"CREATE_INVENTORY",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))},clearErrors:function(){return e({type:"CLEAR_ERRORS"})}}}))(G),H=function(){function e(t){var a=this;Object(E.a)(this,e),this.hud=document.getElementById("hud-canvas"),this.ctx=this.hud.getContext("2d"),this.socket=t,this.score={LEFT:0,RIGHT:0},this.socket.on("updateScore",(function(e){a.clearScore(a.ctx),a.updateScore(e),a.drawScore(a.ctx)})),this.socket.on("gameover",(function(e){a.gameover(a.ctx,e)})),this.drawScore(this.ctx)}return Object(f.a)(e,[{key:"clearScore",value:function(e){e.clearRect(600,0,600,100)}},{key:"updateScore",value:function(e){var t=this;this.drawGoal(this.ctx);var a=setInterval((function(){return t.drawGoal(t.ctx)}),200);setTimeout((function(){return clearInterval(a)}),1e3),this.score=e}},{key:"drawScore",value:function(e){e.fillStyle="#FFFFFF",e.font="40pt Audiowide",e.textAlign="center",e.fillText(this.score.LEFT+"   |   "+this.score.RIGHT,800,90)}},{key:"clearGoal",value:function(e){e.clearRect(600,600,400,300)}},{key:"drawGoal",value:function(e){var t=this;e.fillStyle="#FFFFFF",e.font="80px Faster One",e.textAlign="center",e.fillText("GOAL!!",800,800),setTimeout((function(){return t.clearGoal(e)}),100)}},{key:"gameover",value:function(e,t){var a=this;this.winner=t,e.clearRect(0,0,1600,900),this.drawScore(e),e.fillStyle="#FFFFFF",e.font="80px Faster One",e.textAlign="center",e.fillText("GAME OVER",800,400),e.fillStyle="#FFFFFF",e.font="40pt Audiowide",e.textAlign="center",e.fillText(this.winner+" wins!",800,500),e.font="20pt Audiowide",e.fillText("press enter to return to lobby",800,600),document.addEventListener("keydown",(function(e){13===e.keyCode&&a.winner&&(window.location.href="/")}))}}]),e}(),M=function(){function e(){Object(E.a)(this,e),this.ballSprite=new Image,this.ballSprite.src="images/earth_ball2.png",this.ballX=0,this.ballY=0}return Object(f.a)(e,[{key:"clear",value:function(e,t,a){e.clearRect(this.ballX-t,this.ballY-a,220,220)}},{key:"step",value:function(e){this.ballX=e.ball.x-100,this.ballY=e.ball.y-100}},{key:"draw",value:function(e,t,a){e.drawImage(this.ballSprite,this.ballX-t,this.ballY-a)}}]),e}(),X=function(){function e(t){Object(E.a)(this,e),this.boosters=new Image,this.boosters.src="self"===t?"images/boosters-red.png":"images/boosters-blue.png",this.shift=0,this.cycle=0}return Object(f.a)(e,[{key:"draw",value:function(e,t,a,n){e.translate(a+45,n+300),e.rotate(t),e.drawImage(this.boosters,0,this.shift,90,120,-45,-300,90/1.7,60),e.rotate(-t),e.translate(-a-45,-n-300),this.cycle%2===0&&this.cycle<600&&this.animate(),this.cycle>=600&&(this.cycle=0)}},{key:"animate",value:function(){this.shift+=120,this.shift>=480&&(this.shift=0)}}]),e}(),z=function(){function e(t,a,n){switch(Object(E.a)(this,e),this.shipSprite=new Image,n){case"Default":this.shipSprite.src="images/default_ship.png";break;case"Red":this.shipSprite.src="images/red_ship.png";break;case"Green":this.shipSprite.src="images/green_ship.png";break;case"Blue":this.shipSprite.src="images/blue_ship.png";break;default:this.shipSprite.src="images/default_ship.png"}this.ctx=t,this.user="Guest"===a?a:a.username,this.pos={x:0,y:0},this.boosters=new X("self"),this.shipAngle=0,this.boosterPosX=0,this.boosterPosY=0,this.jetDirection={x:0,y:0}}return Object(f.a)(e,[{key:"clear",value:function(e,t,a){e.clearRect(this.pos.x-30-t-60,this.pos.y-30-a-60,180,180)}},{key:"step",value:function(e){this.pos=e.self.pos,this.jetDirection=e.self.jetDirection}},{key:"draw",value:function(e,t,a){0===this.jetDirection.x&&0===this.jetDirection.y?(this.boosterPosX=!1,this.boosterPosY=!1):this.jetDirection.x>0&&this.jetDirection.y>0?(this.shipAngle=45,this.boosterPosX=95,this.boosterPosY=-467):this.jetDirection.x>0&&this.jetDirection.y<0?(this.shipAngle=135,this.boosterPosX=121,this.boosterPosY=-163):this.jetDirection.y<0&&this.jetDirection.x<0?(this.shipAngle=225,this.boosterPosX=-182,this.boosterPosY=-134):this.jetDirection.y>0&&this.jetDirection.x<0?(this.shipAngle=315,this.boosterPosX=-212,this.boosterPosY=-437):this.jetDirection.y>0?(this.shipAngle=0,this.boosterPosX=-65,this.boosterPosY=-515):this.jetDirection.x>0?(this.shipAngle=90,this.boosterPosX=169,this.boosterPosY=-320):this.jetDirection.y<0?(this.shipAngle=180,this.boosterPosX=-25,this.boosterPosY=-83):this.jetDirection.x<0&&(this.shipAngle=270,this.boosterPosX=-260,this.boosterPosY=-280),(this.boosterPosX||this.boosterPosY)&&this.boosters.draw(this.ctx,(this.shipAngle+180)*Math.PI/180,this.pos.x-t+this.boosterPosX,this.pos.y-a+this.boosterPosY),e.setTransform(1,0,0,1,this.pos.x-t,this.pos.y-a),e.rotate(this.shipAngle*Math.PI/180),e.drawImage(this.shipSprite,-30,-30),e.setTransform(1,0,0,1,0,0),e.fillStyle="#FFFFFF",e.font="16pt Audiowide",e.fillText(this.user,this.pos.x-t,this.pos.y+60-a),e.textAlign="center"}}]),e}(),Z=function(){function e(){Object(E.a)(this,e),this.leftGoal=new Image,this.leftGoal.src="images/leftGoal.png",this.rightGoal=new Image,this.rightGoal.src="images/rightGoal.png"}return Object(f.a)(e,[{key:"clear",value:function(e,t,a){e.clearRect(0-t,510-a,315,781),e.clearRect(3485-t,510-a,315,781)}},{key:"draw",value:function(e,t,a){e.drawImage(this.leftGoal,0-t,510-a),e.drawImage(this.rightGoal,3485-t,510-a)}}]),e}(),W=function(){function e(){Object(E.a)(this,e),this.background=document.getElementById("background-canvas"),this.ctx=this.background.getContext("2d"),this.foreground=new Image,this.foreground.src="images/grid.png",this.midlayer=new Image,this.midlayer.src="images/grid2.png",this.background=new Image,this.background.src="images/grid3.png"}return Object(f.a)(e,[{key:"draw",value:function(e,t,a){e.drawImage(this.background,t/3,a/3,1600,900,0,0,1600,900),e.drawImage(this.midlayer,t/2,a/2,1600,900,0,0,1600,900),e.drawImage(this.foreground,t,a,1600,900,0,0,1600,900)}}]),e}(),K=function(){function e(t,a,n,s){Object(E.a)(this,e),this.left=t||0,this.top=a||0,this.width=n||0,this.height=s||0,this.right=this.left+this.width,this.bottom=this.top+this.height}return Object(f.a)(e,[{key:"set",value:function(e,t,a,n){this.left=e||0,this.top=t||0,this.width=a||0,this.height=n||0,this.right=this.left+this.width,this.bottom=this.top+this.height}},{key:"within",value:function(e){return e.left<=this.left&&e.right>=this.right&&e.top<=this.top&&e.bottom>=this.bottom}},{key:"overlaps",value:function(e){return this.left<e.right&&e.left<this.right&&this.top<e.bottom&&e.top<this.bottom}}]),e}(),$=2,J=3,q=4,Q=function(){function e(t,a,n,s,i,r){Object(E.a)(this,e),this.xView=t||0,this.yView=a||0,this.xDeadZone=0,this.yDeadZone=0,this.wView=n,this.hView=s,this.axis=q,this.followed=null,this.viewPortRect=new K(this.xView,this.yView,this.wView,this.hView),this.worldRect=new K(0,0,i,r)}return Object(f.a)(e,[{key:"follow",value:function(e,t,a){this.followed=e,this.xDeadZone=t,this.yDeadZone=a}},{key:"update",value:function(){null!==this.followed&&(this.axis!==$&&this.axis!==q||(this.followed.pos.x-this.xView+this.xDeadZone>this.wView?this.xView=this.followed.pos.x-(this.wView-this.xDeadZone):this.followed.pos.x-this.xDeadZone<this.xView&&(this.xView=this.followed.pos.x-this.xDeadZone))),this.axis!==J&&this.axis!==q||(this.followed.pos.y-this.yView+this.yDeadZone>this.hView?this.yView=this.followed.pos.y-(this.hView-this.yDeadZone):this.followed.pos.y-this.yDeadZone<this.yView&&(this.yView=this.followed.pos.y-this.yDeadZone)),this.viewPortRect.set(this.xView,this.yView,this.wView,this.hView),this.viewPortRect.within(this.worldRect)||(this.viewPortRect.left<this.worldRect.left&&(this.xView=this.worldRect.left),this.viewPortRect.top<this.worldRect.top&&(this.yView=this.worldRect.top),this.viewPortRect.right>this.worldRect.right&&(this.xView=this.worldRect.right-this.wView),this.viewPortRect.bottom>this.worldRect.bottom&&(this.yView=this.worldRect.bottom-this.hView))}}]),e}(),ee=function(){function e(t,a,n,s){Object(E.a)(this,e),this.socket=t,this.room=a,this.canvas=document.getElementById("game-canvas"),this.ctx=this.canvas.getContext("2d"),this.background=document.getElementById("background-canvas"),this.arenaCtx=this.background.getContext("2d"),this.gameoptions={ship:s.ship,ball:s.ball},this.arena=new W,this.goalPosts=new Z,this.ball=new M,this.self=new z(this.ctx,n,this.gameoptions.ship),this.camera=new Q(0,0,1600,900,3800,1800),this.camera.follow(this.self,800,450),this.boosters=new X,this.shipAngle=0,this.boosterPosX=0,this.boosterPosY=0,this.shipSprite=new Image,this.shipSprite.src="images/default_ship.png",this.others=[],this.othersPrev=[]}return Object(f.a)(e,[{key:"cycleAll",value:function(e){this.winner||(this.clearEntities(this.ctx),this.stepEntities(e),this.camera.update(),this.drawEntities(this.ctx))}},{key:"clearEntities",value:function(e){this.goalPosts.clear(e,this.camera.xView,this.camera.yView),this.ball.clear(e,this.camera.xView,this.camera.yView),this.self.clear(e,this.camera.xView,this.camera.yView),this.clearOthers(e,this.camera.xView,this.camera.yView)}},{key:"stepEntities",value:function(e){this.ball.step(e),this.self.step(e),this.stepOthers(e)}},{key:"drawEntities",value:function(e){this.arena.draw(this.arenaCtx,this.camera.xView,this.camera.yView),this.ball.draw(e,this.camera.xView,this.camera.yView),this.self.draw(e,this.camera.xView,this.camera.yView),this.drawOthers(e,this.camera.xView,this.camera.yView),this.goalPosts.draw(e,this.camera.xView,this.camera.yView)}},{key:"clearOthers",value:function(e,t,a){var n=!0,s=!1,i=void 0;try{for(var r,o=this.others[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var c=r.value;e.clearRect(c.pos.x-100-t,c.pos.y-80-a,200,200)}}catch(l){s=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(s)throw i}}}},{key:"stepOthers",value:function(e){this.othersPrev=this.others,this.others=e.others}},{key:"drawOthers",value:function(e,t,a){for(var n=0;n<this.others.length;n++){var s=this.others[n].jetDirection;0===s.x&&0===s.y?(this.boosterPosX=!1,this.boosterPosY=!1):s.x>0&&s.y>0?(this.shipAngle=45,this.boosterPosX=95,this.boosterPosY=-467):s.x>0&&s.y<0?(this.shipAngle=135,this.boosterPosX=121,this.boosterPosY=-163):s.y<0&&s.x<0?(this.shipAngle=225,this.boosterPosX=-182,this.boosterPosY=-134):s.y>0&&s.x<0?(this.shipAngle=315,this.boosterPosX=-212,this.boosterPosY=-437):s.y>0?(this.shipAngle=0,this.boosterPosX=-65,this.boosterPosY=-515):s.x>0?(this.shipAngle=90,this.boosterPosX=169,this.boosterPosY=-320):s.y<0?(this.shipAngle=180,this.boosterPosX=-25,this.boosterPosY=-83):s.x<0&&(this.shipAngle=270,this.boosterPosX=-260,this.boosterPosY=-280),(this.boosterPosX||this.boosterPosY)&&this.boosters.draw(this.ctx,(this.shipAngle+180)*Math.PI/180,this.others[n].pos.x-t+this.boosterPosX,this.others[n].pos.y-a+this.boosterPosY),e.setTransform(1,0,0,1,this.others[n].pos.x-t,this.others[n].pos.y-a),e.rotate(this.shipAngle*Math.PI/180),e.drawImage(this.shipSprite,-30,-30),e.setTransform(1,0,0,1,0,0),e.fillStyle="#FFFFFF",e.font="16pt Audiowide",e.fillText(this.user,this.others[n].pos.x-t,this.others[n].pos.y+60-a),e.textAlign="center"}}}]),e}(),te=a(17),ae=a.n(te),ne=function(){function e(t,a,n,s){Object(E.a)(this,e),this.hud=new H(t),this.game=new ee(t,a,n,s),this.socket=t,this.room=a,this.user=n,this.gameoptions={ship:s.ship,ball:s.ball},this.socket.emit("player-join",this.room),ae.a.applyEventHandlers()}return Object(f.a)(e,[{key:"init",value:function(){var e=this;this.socket.on("gameState",(function(t){e.game.cycleAll(t)})),this.gameLoop()}},{key:"gameLoop",value:function(){var e=this;setInterval((function(){!e.cooldown&&(ae.a.LEFT||ae.a.UP||ae.a.RIGHT||ae.a.DOWN)&&e.socket.emit("player-action",{room:e.room,keyboardState:{left:ae.a.LEFT,right:ae.a.RIGHT,up:ae.a.UP,down:ae.a.DOWN}})}),20)}}]),e}(),se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).socket=a.props.location.socket,a.room=a.props.location.room,a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.socket||(window.location.href="/play"),this.clientViewPort=new ne(this.socket,this.room,this.props.user,this.props.gameoptions),this.clientViewPort.init()}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"render",value:function(){return s.a.createElement("div",{id:"game-container"},s.a.createElement("canvas",{width:"1600",height:"900",id:"hud-canvas"}),s.a.createElement("canvas",{width:"1600",height:"900",id:"game-canvas"}),s.a.createElement("canvas",{width:"1600",height:"900",id:"background-canvas"}))}}]),t}(s.a.Component),ie=Object(l.b)((function(e){return{user:e.session.user,gameoptions:e.inventory.gameoptions}}),(function(e){return{fetchInventory:function(){return e(j())}}}))(se),re=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).socket=a.props.location.socket,a.room=a.props.location.room,a.numPlayers=a.props.location.numPlayers,a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.socket.emit("enter-room",this.room)}},{key:"render",value:function(){return this.room||(window.location.href="/play"),s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"lobby-content"},s.a.createElement("div",{className:"box"},s.a.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},s.a.createElement("path",{fill:"currentColor",d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"})),s.a.createElement("div",null,"Welcome to room #",this.room),s.a.createElement(u.b,{to:{pathname:"/game",room:this.room,socket:this.socket}},s.a.createElement("div",{className:"play"},"Start Game")))))}}]),t}(s.a.Component),oe=a(66),ce=a.n(oe),le=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).socket=ce()(),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchInventory()}},{key:"serverRow",value:function(e){return s.a.createElement("li",null,s.a.createElement(u.b,{to:{pathname:"/room",room:1,numPlayers:1,socket:this.socket,user:this.props.user,gameoptions:this.props.gameoptions}},s.a.createElement("div",{className:"server-list"},s.a.createElement("div",{className:"server-column"},"# ",e.room),s.a.createElement("div",{className:"server-column"},e.numPlayers," Players"))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"lobby-content game-lobby"},s.a.createElement("div",{className:"box"},s.a.createElement("div",null,"Room List"),s.a.createElement("div",{className:"server-list"},s.a.createElement("div",null,"Room"),s.a.createElement("div",null,"Players")),s.a.createElement("div",null,s.a.createElement("ul",null,[{room:1,numPlayers:2},{room:2,numPlayers:2}].map((function(t){return e.serverRow(t)})))),s.a.createElement(u.b,{to:{pathname:"/room",room:1,numPlayers:1,socket:this.socket,user:this.props.user,gameoptions:this.props.gameoptions}},s.a.createElement("div",null,"Create Room"))),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"title"},"How To Play:"),s.a.createElement("div",{className:"instructions"},"Push the ball towards the oppenent's goal. ",s.a.createElement("br",null),"Score by getting the ball into the goal. ",s.a.createElement("br",null),"Move your ship with WASD. ",s.a.createElement("br",null),"First to 10 points wins. ",s.a.createElement("br",null))),s.a.createElement("div",{className:"buy-button",onClick:this.handleClick},"Go Back"),s.a.createElement(u.b,{to:{pathname:"/room",room:1,numPlayers:1,socket:this.socket,user:this.props.user,gameoptions:this.props.gameoptions}},s.a.createElement("div",{className:"buy-button"},"Room 1")),s.a.createElement(u.b,{to:{pathname:"/room",room:1,numPlayers:1,socket:this.socket,user:this.props.user,gameoptions:this.props.gameoptions}},s.a.createElement("div",{className:"buy-button"},"Room 1.5"))))}}]),t}(s.a.Component),ue=Object(l.b)((function(e){return{user:e.session.user,gameoptions:e.inventory.gameoptions}}),(function(e){return{fetchInventory:function(){return e(j())}}}))(le),he=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"homepage-container"},s.a.createElement("h1",{className:"intro-title"},"You've reached a universe that does not exist!"),s.a.createElement(u.b,{className:"lobby-container",to:"/"},s.a.createElement("h2",null,"Return to our universe (click here!)")))}}]),t}(s.a.Component),me=Object(h.g)(he),de=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLeaderboard()}},{key:"render",value:function(){var e=this.props.leaderboard,t=0;return s.a.createElement("table",{className:"leaderboard-table"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-title"},s.a.createElement("td",{className:"column-rank"},"RANK"),s.a.createElement("td",{className:"column-player"},"PLAYER"),s.a.createElement("td",{className:"column-stat"},"POINTS"),s.a.createElement("td",{className:"column-wins"},"WINS"),s.a.createElement("td",{className:"column-losses"},"LOSSES"))),s.a.createElement("tbody",{className:"table-body"},e.map((function(e){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,"#",t+=1),s.a.createElement("td",{className:"player-name column-player"},e.username),s.a.createElement("td",null,e.points),s.a.createElement("td",null,e.wins),s.a.createElement("td",null,e.losses))}))))}}]),t}(s.a.Component),pe=Object(l.b)((function(e){return{leaderboard:Object.values(e.leaderboard)}}),(function(e){return{fetchLeaderboard:function(){return e((function(e){c.a.get("/api/leaderboard").then((function(t){return e({type:"RECEIVE_LEADERBOARDS",payload:t.data})})).catch((function(t){return e({type:"RECEIVE_LEADERBOARDS",payload:null})}))}))}}}))(de),Ee=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).getLinks=a.getLinks.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"getLinks",value:function(){var e=this.props.stats,t=e.wins/(e.wins+e.losses),a=t?(100*t).toFixed(2):0;return this.props.loggedIn?s.a.createElement("table",{className:"stats-table"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"stats-title"},s.a.createElement("td",{className:"column-points"},"POINTS"),s.a.createElement("td",{className:"column-wins"},"WINS"),s.a.createElement("td",{className:"column-losses"},"LOSSES"),s.a.createElement("td",{className:"column-winloss"},"WIN %"))),s.a.createElement("tbody",{className:"stats-body"},s.a.createElement("tr",null,s.a.createElement("td",{className:"stats-data"},e.points),s.a.createElement("td",{className:"stats-data"},e.wins),s.a.createElement("td",{className:"stats-data"},e.losses),s.a.createElement("td",{className:"stats-data"},a,"%")))):s.a.createElement("div",null,"You must be logged in to view your stats")}},{key:"render",value:function(){return s.a.createElement("div",null,this.getLinks())}}]),t}(s.a.Component),fe=Object(l.b)((function(e){return{loggedIn:e.session.isAuthenticated,stats:e.stats,user:e.session.user.username||null}}),(function(e){return{fetchStats:function(){return e(O())}}}))(Ee),be=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={selected:"leader"},a.handleClick=a.handleClick.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"handleClick",value:function(e){this.setState({selected:e.target.id}),Array.from(document.getElementsByClassName("board-select")).forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active")}},{key:"render",value:function(){var e,t=this.state.selected;return"leader"===t?e=s.a.createElement(pe,null):"stats"===t&&(e=s.a.createElement(fe,null)),s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"leaderboard"},s.a.createElement("div",{className:"leaderboard-menu"},s.a.createElement("div",{className:"board-select active",id:"leader",onClick:this.handleClick},"Leaderboard"),s.a.createElement("div",{className:"board-select",id:"stats",onClick:this.handleClick},"My Stats")),e))}}]),t}(s.a.Component),ve=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={optionSelection:"Default"},a.handleSelectChild=a.handleSelectChild.bind(Object(y.a)(a)),a.selectShip=a.selectShip.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.toggleSelect()}},{key:"selectShip",value:function(){var e=this;new Promise((function(t,a){t(e.props.selectShip(e.state.optionSelection))})).then((function(){setTimeout((function(){e.props.fetchInventory()}),100)}))}},{key:"handleSelectChild",value:function(e){this.props.handleSelect(e),this.setState({optionSelection:e.target.id})}},{key:"display",value:function(){var e=this.state.optionSelection,t=this.props.inventory.gameoptions,a=this.props.inventory.ships;return console.log(this.props.inventory),t.ship.includes(e)?s.a.createElement("div",{className:"ship-selected-message"},"SELECTED"):a.includes(e)?s.a.createElement("div",{className:"select-ship",onClick:this.selectShip},"SELECT THIS SHIP"):s.a.createElement("div",null,s.a.createElement("div",{className:"unavailable"},"SHIP NOT IN INVENTORY"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"shop-container"},s.a.createElement("div",{className:"currency"},"$",this.props.inventory.currency),s.a.createElement("div",{className:"title"},"Choose a Ship Color:"),s.a.createElement("div",{className:"ship-options"},s.a.createElement("div",{className:"select-button active",id:"Default",onClick:this.handleSelectChild},"Default"),s.a.createElement("div",{className:"select-button",id:"Red",onClick:this.handleSelectChild},"Red"),s.a.createElement("div",{className:"select-button",id:"Green",onClick:this.handleSelectChild},"Green"),s.a.createElement("div",{className:"select-button",id:"Blue",onClick:this.handleSelectChild},"Blue")),this.display())}}]),t}(s.a.Component),ye=Object(l.b)((function(e){return{loggedIn:e.session.isAuthenticated,inventory:e.inventory}}),(function(e){return{fetchInventory:function(){return e(j())},selectShip:function(t){return e(C(t))}}}))(ve),ge=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={optionSelection:"Earth"},a.handleSelectChild=a.handleSelectChild.bind(Object(y.a)(a)),a.selectBall=a.selectBall.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.toggleSelect()}},{key:"selectBall",value:function(){var e=this;new Promise((function(t,a){t(e.props.selectBall(e.state.optionSelection))})).then((function(){setTimeout((function(){e.props.fetchInventory()}),100)}))}},{key:"handleSelectChild",value:function(e){this.props.handleSelect(e),this.setState({optionSelection:e.target.id})}},{key:"display",value:function(){var e=this.state.optionSelection,t=this.props.inventory.gameoptions,a=this.props.inventory.balls;return t.ball.includes(e)?s.a.createElement("div",{className:"ball-selected-message"},"SELECTED"):a.includes(e)?s.a.createElement("div",{className:"select-ball",onClick:this.selectBall},"SELECT THIS BALL"):s.a.createElement("div",null,s.a.createElement("div",{className:"unavailable"},"BALL NOT IN INVENTORY"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"shop-container"},s.a.createElement("div",{className:"currency"},"$",this.props.inventory.currency),s.a.createElement("div",{className:"title"},"Choose a Ball Type:"),s.a.createElement("div",{className:"ball-options"},s.a.createElement("div",{className:"select-button active",id:"Earth",onClick:this.handleSelectChild},"Earth"),s.a.createElement("div",{className:"select-button",id:"Soccer",onClick:this.handleSelectChild},"Soccer"),s.a.createElement("div",{className:"select-button",id:"Pizza",onClick:this.handleSelectChild},"Pizza"),s.a.createElement("div",{className:"select-button",id:"Moon",onClick:this.handleSelectChild},"Moon")),this.display())}}]),t}(s.a.Component),we=Object(l.b)((function(e){return{loggedIn:e.session.isAuthenticated,inventory:e.inventory}}),(function(e){return{fetchInventory:function(){return e(j())},selectBall:function(t){return e(R(t))}}}))(ge),ke=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={selected:"ship",optionSelection:"Default"},a.handleClick=a.handleClick.bind(Object(y.a)(a)),a.handleSelect=a.handleSelect.bind(Object(y.a)(a)),a.leftViewPort=a.leftViewPort.bind(Object(y.a)(a)),a.rightViewPort=a.rightViewPort.bind(Object(y.a)(a)),a.toggleSelect=a.toggleSelect.bind(Object(y.a)(a)),a.buyShip=a.buyShip.bind(Object(y.a)(a)),a.buyBall=a.buyBall.bind(Object(y.a)(a)),a.sellShip=a.sellShip.bind(Object(y.a)(a)),a.sellBall=a.sellBall.bind(Object(y.a)(a)),a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.fetchInventory()}},{key:"handleClick",value:function(e){this.setState({selected:e.target.id}),Array.from(document.getElementsByClassName("customize")).forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active")}},{key:"toggleSelect",value:function(){var e=this.state;"ship"===e.selected?this.setState({optionSelection:"Default"}):"ball"===e.selected&&this.setState({optionSelection:"Earth"})}},{key:"handleSelect",value:function(e){this.setState({optionSelection:e.target.id}),Array.from(document.getElementsByClassName("select-button")).forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active")}},{key:"buyShip",value:function(){var e=this,t=new Promise((function(t,a){t(e.props.addShip(e.state.optionSelection))}));this.props.inventory.currency-500>=0?t.then((function(){e.props.changeCurrency(-500)})).then((function(){setTimeout((function(){e.props.fetchInventory()}),50)})):alert("NOT ENOUGH MONEY! Play more, earn more.")}},{key:"buyBall",value:function(){var e=this,t=new Promise((function(t,a){t(e.props.addBall(e.state.optionSelection))}));this.props.inventory.currency-500>=0?t.then((function(){e.props.changeCurrency(-500)})).then((function(){setTimeout((function(){e.props.fetchInventory()}),50)})):alert("NOT ENOUGH MONEY! Play more, earn more.")}},{key:"sellShip",value:function(){var e=this;this.props.removeShip(this.state.optionSelection),this.props.selectShip("Default"),setTimeout((function(){e.props.changeCurrency(500)}),50),setTimeout((function(){e.props.fetchInventory()}),100)}},{key:"sellBall",value:function(){var e=this;this.props.removeBall(this.state.optionSelection),this.props.selectBall("Earth"),setTimeout((function(){e.props.changeCurrency(500)}),50),setTimeout((function(){e.props.fetchInventory()}),100)}},{key:"leftViewPort",value:function(){return"ship"===this.state.selected?s.a.createElement(ye,{handleSelect:this.handleSelect,toggleSelect:this.toggleSelect}):s.a.createElement(we,{handleSelect:this.handleSelect,toggleSelect:this.toggleSelect})}},{key:"rightViewPort",value:function(){var e=this.state.optionSelection;return"Default"===e?s.a.createElement("img",{src:"images/default_ship_full.png",className:"ship",alt:"defaultship"}):"Red"===e?s.a.createElement("img",{src:"images/red_ship_full.png",className:"ship",alt:"redship"}):"Green"===e?s.a.createElement("img",{src:"images/green_ship_full.png",className:"ship",alt:"greenship"}):"Blue"===e?s.a.createElement("img",{src:"images/blue_ship_full.png",className:"ship",alt:"blueship"}):"Earth"===e?s.a.createElement("img",{className:"ball",src:"images/earth.png",alt:"earth"}):"Soccer"===e?s.a.createElement("img",{className:"ball",src:"images/soccer_ball.png",alt:"soccer"}):"Pizza"===e?s.a.createElement("img",{className:"ball",src:"images/pizza.png",alt:"pizza"}):"Moon"===e?s.a.createElement("img",{className:"ball",src:"images/moon.png",alt:"moon"}):void 0}},{key:"purchaseOption",value:function(){var e=this.state.optionSelection,t=this.state.selected;return this.props.loggedIn?"Default"===e||"Earth"===e?s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"Not For Sale"),s.a.createElement("div",{className:"default-button"},"Default")):this.props.inventory.ships.includes(e)||this.props.inventory.balls.includes(e)?"ship"===t?s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"$500"),s.a.createElement("div",{className:"sell-button",onClick:this.sellShip},"SELL")):s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"$500"),s.a.createElement("div",{className:"sell-button",onClick:this.sellBall},"SELL")):"ship"===t?s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"$500"),s.a.createElement("div",{className:"buy-button",onClick:this.buyShip},"BUY")):s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"$500"),s.a.createElement("div",{className:"buy-button",onClick:this.buyBall},"BUY")):"Default"===e||"Earth"===e?s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"Not For Sale"),s.a.createElement("div",{className:"default-button"},"Default")):s.a.createElement("div",{className:"purchase-container"},s.a.createElement("div",{className:"price"},"$500"),s.a.createElement("div",{className:"buy-button",id:"login",onClick:this.props.showLogin},"BUY"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"mainpage-container"},s.a.createElement("div",{className:"stars"}),s.a.createElement("div",{className:"twinkling"}),s.a.createElement("div",{className:"clouds"}),s.a.createElement(T,null),s.a.createElement("div",{className:"options-container"},s.a.createElement("div",{className:"customize-panel"},s.a.createElement("div",{className:"customize-title"},"Game Options"),s.a.createElement("div",{className:"select-customization"},s.a.createElement("div",{className:"customize active",id:"ship",onClick:this.handleClick},"Ship"),s.a.createElement("div",{className:"customize",id:"ball",onClick:this.handleClick},"Ball")),s.a.createElement("div",null,this.leftViewPort())),s.a.createElement("div",{className:"picture-container"},this.rightViewPort(),this.purchaseOption())))}}]),t}(s.a.Component),Se=Object(l.b)((function(e){return{loggedIn:e.session.isAuthenticated,user:e.session.user,inventory:e.inventory}}),(function(e){return{fetchInventory:function(){return e(j())},addShip:function(t){return e(function(e){return function(t){c.a.patch("/api/inventory/addship",{ship:e}).then((function(e){return t({type:"ADD_SHIP",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))},addBall:function(t){return e(function(e){return function(t){c.a.patch("/api/inventory/addball",{ball:e}).then((function(e){return t({type:"ADD_BALL",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))},removeShip:function(t){return e(function(e){return function(t){c.a.patch("api/inventory/removeship",{ship:e}).then((function(e){return t({type:"REMOVE_SHIP",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))},removeBall:function(t){return e(function(e){return function(t){c.a.patch("api/inventory/removeball",{ball:e}).then((function(e){return t({type:"REMOVE_BALL",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))},selectShip:function(t){return e(C(t))},selectBall:function(t){return e(R(t))},changeCurrency:function(t){return e(function(e){return function(t){c.a.patch("/api/inventory/currency",{currency:e}).then((function(e){return t({type:"CHANGE_CURRENCY",payload:e.data})})).catch((function(e){return t({type:"RECEIVE_ERRORS",payload:e})}))}}(t))}}}))(ke),Ne=function(){return s.a.createElement(h.d,null,s.a.createElement(p,{exact:!0,path:"/",component:D}),s.a.createElement(h.b,{exact:!0,path:"/login",component:F}),s.a.createElement(h.b,{exact:!0,path:"/signup",component:U}),s.a.createElement(h.b,{exact:!0,path:"/game",component:ie}),s.a.createElement(h.b,{exact:!0,path:"/room",component:re}),s.a.createElement(h.b,{exact:!0,path:"/play",component:ue}),s.a.createElement(h.b,{exact:!0,path:"/leaderboard",component:be}),s.a.createElement(h.b,{exact:!0,path:"/options",component:Se}),s.a.createElement(h.b,{component:me}))},Oe=function(e){var t=e.store;return s.a.createElement(l.a,{store:t},s.a.createElement(u.a,null,s.a.createElement(Ne,null)))},je=a(18),Ce=a(67),Re=a(68),Ie=a.n(Re),xe=a(69),Pe={isAuthenticated:!1,user:"Guest"},Ve=[],Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":return t.errors;case"RECEIVE_CURRENT_USER":return Ve;case"CLEAR_ERRORS":return[];default:return e}},Te=Object(je.c)({session:Ae}),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{points:0,wins:0,losses:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_STATS":case"CREATE_STAT":return Object.assign({},e,t.payload);case"CLEAR_STATS":return{points:0,wins:0,losses:0};default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_LEADERBOARDS":return Object.assign({},e,t.payload);default:return e}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:0,ships:["Default"],balls:["Earth"],gameoptions:{ship:"Default",ball:"Earth"}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_INVENTORY":case"CREATE_INVENTORY":case"ADD_SHIP":case"ADD_BALL":case"SELECT_SHIP":case"SELECT_BALL":return Object.assign({},e,t.payload);case"CHANGE_CURRENCY":return Object.assign({},t.payload);default:return e}},Be=Object(je.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1,user:"Guest"};case"RECEIVE_CURRENT_USER":return{isAuthenticated:!0,user:t.currentUser};case"RECEIVE_USER_SIGN_IN":return Object(xe.a)({},e,{isSignedIn:!0,user:t.currentUser});default:return e}},errors:Te,sessionErrors:Ae,stats:De,leaderboard:Le,inventory:_e}),Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(je.d)(Be,e,Object(je.a)(Ce.a,Ie.a))};document.addEventListener("DOMContentLoaded",(function(){var e;if(localStorage.jwtToken){k(localStorage.jwtToken);var t=N()(localStorage.jwtToken);e=Fe({session:{isAuthenticated:!0,user:t}});var a=Date.now()/1e3;t.exp<a&&(e.dispatch(A()),window.location.href="/login")}else e=Fe({});var n=document.getElementById("root");r.a.render(s.a.createElement(Oe,{store:e}),n),window.axios=c.a}))},17:function(e,t){function a(){throw new Error("Input should not be instantiated!")}a.LEFT=!1,a.UP=!1,a.RIGHT=!1,a.DOWN=!1,a.ENTER=!1,a.MISC_KEYS={},a.onKeyDown=function(e){switch(e.keyCode){case 13:a.ENTER=!0;break;case 65:a.LEFT=!0;break;case 87:a.UP=!0;break;case 68:a.RIGHT=!0;break;case 83:a.DOWN=!0;break;default:a.MISC_KEYS[e.keyCode]=!0}},a.onKeyUp=function(e){switch(e.keyCode){case 37:case 65:a.LEFT=!1;break;case 38:case 87:a.UP=!1;break;case 39:case 68:a.RIGHT=!1;break;case 40:case 83:a.DOWN=!1;break;default:a.MISC_KEYS[e.keyCode]=!1}},a.applyEventHandlers=function(){document.addEventListener("keyup",a.onKeyUp),document.addEventListener("keydown",a.onKeyDown)},e.exports=a},71:function(e,t,a){e.exports=a(137)},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.92c79f8b.chunk.js.map